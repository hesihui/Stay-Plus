{"code":"(this[\"webpackJsonpstaybooking-app\"]=this[\"webpackJsonpstaybooking-app\"]||[]).push([[0],{167:function(e,t,a){},245:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),s=a(27),c=a.n(s),i=(a(167),a(30)),o=a(31),l=a(33),u=a(32),d=a(247),h=a(259),j=a(260),b=a(46),p=a(262),f=a(26),m=a.n(f),O=a(41),x=a(159),g=a(250),v=a(256),y=a(261),k=a(258),S=\"http://onyx-nexus-326722.de.r.appspot.com\",w=function(e,t){var a=\"\".concat(S,\"/authenticate/\").concat(t?\"host\":\"guest\");return fetch(a,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}).then((function(e){if(200!==e.status)throw Error(\"Fail to log in\");return e.json()}))},C=function(e,t){var a=\"\".concat(S,\"/register/\").concat(t?\"host\":\"guest\");return fetch(a,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}).then((function(e){if(200!==e.status)throw Error(\"Fail to register\")}))},I=function(){var e=localStorage.getItem(\"authToken\"),t=\"\".concat(S,\"/reservations\");return fetch(t,{headers:{Authorization:\"Bearer \".concat(e)}}).then((function(e){if(200!==e.status)throw Error(\"Fail to get reservation list\");return e.json()}))},D=function(){var e=localStorage.getItem(\"authToken\"),t=\"\".concat(S,\"/stays/\");return fetch(t,{headers:{Authorization:\"Bearer \".concat(e)}}).then((function(e){if(200!==e.status)throw Error(\"Fail to get stay list\");return e.json()}))},T=function(e){var t=localStorage.getItem(\"authToken\"),a=new URL(\"\".concat(S,\"/search/\"));return a.searchParams.append(\"guest_number\",e.guest_number),a.searchParams.append(\"checkin_date\",e.checkin_date.format(\"YYYY-MM-DD\")),a.searchParams.append(\"checkout_date\",e.checkout_date.format(\"YYYY-MM-DD\")),a.searchParams.append(\"lat\",37),a.searchParams.append(\"lon\",-122),fetch(a,{headers:{Authorization:\"Bearer \".concat(t)}}).then((function(e){if(200!==e.status)throw Error(\"Fail to search stays\");return e.json()}))},A=function(e){var t=localStorage.getItem(\"authToken\"),a=\"\".concat(S,\"/stays/\").concat(e);return fetch(a,{method:\"DELETE\",headers:{Authorization:\"Bearer \".concat(t)}}).then((function(e){if(200!==e.status)throw Error(\"Fail to delete stay\")}))},F=function(e){var t=localStorage.getItem(\"authToken\"),a=\"\".concat(S,\"/reservations\");return fetch(a,{method:\"POST\",headers:{Authorization:\"Bearer \".concat(t),\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}).then((function(e){if(200!==e.status)throw Error(\"Fail to book reservation\")}))},R=function(e){var t=localStorage.getItem(\"authToken\"),a=\"\".concat(S,\"/reservations/\").concat(e);return fetch(a,{method:\"DELETE\",headers:{Authorization:\"Bearer \".concat(t)}}).then((function(e){if(200!==e.status)throw Error(\"Fail to cancel reservation\")}))},M=function(e){var t=localStorage.getItem(\"authToken\"),a=\"\".concat(S,\"/stays/reservations/\").concat(e);return fetch(a,{headers:{Authorization:\"Bearer \".concat(t)}}).then((function(e){if(200!==e.status)throw Error(\"Fail to get reservations by stay\");return e.json()}))},P=function(e){var t=localStorage.getItem(\"authToken\"),a=\"\".concat(S,\"/stays\");return fetch(a,{method:\"POST\",headers:{Authorization:\"Bearer \".concat(t)},body:e}).then((function(e){if(200!==e.status)throw Error(\"Fail to upload stay\")}))},_=a(6),E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).formRef=r.a.createRef(),e.state={asHost:!1,loading:!1},e.onFinish=function(){console.log(\"finish form\")},e.handleLogin=Object(O.a)(m.a.mark((function t(){var a,n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formRef.current,t.prev=1,t.next=4,a.validateFields();case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt(\"return\");case 9:return e.setState({loading:!0}),t.prev=10,n=e.state.asHost,t.next=14,w(a.getFieldsValue(!0),n);case 14:r=t.sent,e.props.handleLoginSuccess(r.token,n),t.next=21;break;case 18:t.prev=18,t.t1=t.catch(10),x.b.error(t.t1.message);case 21:return t.prev=21,e.setState({loading:!1}),t.finish(21);case 24:case\"end\":return t.stop()}}),t,null,[[1,6],[10,18,21,24]])}))),e.handleRegister=Object(O.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formRef.current,t.prev=1,t.next=4,a.validateFields();case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt(\"return\");case 9:return e.setState({loading:!0}),t.prev=10,t.next=13,C(a.getFieldsValue(!0),e.state.asHost);case 13:x.b.success(\"Register Successfully\"),t.next=19;break;case 16:t.prev=16,t.t1=t.catch(10),x.b.error(t.t1.message);case 19:return t.prev=19,e.setState({loading:!1}),t.finish(19);case 22:case\"end\":return t.stop()}}),t,null,[[1,6],[10,16,19,22]])}))),e.handleCheckboxOnChange=function(t){e.setState({asHost:t.target.checked})},e}return Object(o.a)(a,[{key:\"render\",value:function(){return Object(_.jsxs)(\"div\",{style:{width:500,margin:\"20px auto\"},children:[Object(_.jsxs)(g.a,{ref:this.formRef,onFinish:this.onFinish,children:[Object(_.jsx)(g.a.Item,{name:\"username\",rules:[{required:!0,message:\"Please input your Username!\"}],children:Object(_.jsx)(v.a,{disabled:this.state.loading,prefix:Object(_.jsx)(p.a,{className:\"site-form-item-icon\"}),placeholder:\"Username\"})}),Object(_.jsx)(g.a.Item,{name:\"password\",rules:[{required:!0,message:\"Please input your Password!\"}],children:Object(_.jsx)(v.a.Password,{disabled:this.state.loading,placeholder:\"Password\"})})]}),Object(_.jsxs)(y.b,{children:[Object(_.jsx)(k.a,{disabled:this.state.loading,checked:this.state.asHost,onChange:this.handleCheckboxOnChange,children:\"As Host\"}),Object(_.jsx)(b.a,{onClick:this.handleLogin,disabled:this.state.loading,shape:\"round\",type:\"primary\",children:\"Log in\"}),Object(_.jsx)(b.a,{onClick:this.handleRegister,disabled:this.state.loading,shape:\"round\",type:\"primary\",children:\"Register\"})]})]})}}]),a}(r.a.Component),Y=E,L=a(252),V=a(140),B=a(66),H=a(255),q=a(249),z=a(257),N=a(254),J=a(251),G=a(123),U=a(263),W=a(264),K=a(91),Q=a(253),X={labelCol:{span:8},wrapperCol:{span:16}},Z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={loading:!1},e.fileInputRef=r.a.createRef(),e.handleSubmit=function(){var t=Object(O.a)(m.a.mark((function t(a){var n,r,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new FormData,!((r=e.fileInputRef.current.files).length>5)){t.next=5;break}return x.b.error(\"You can at most upload 5 pictures.\"),t.abrupt(\"return\");case 5:for(s=0;s<r.length;s++)n.append(\"images\",r[s]);return n.append(\"name\",a.name),n.append(\"address\",a.address),n.append(\"description\",a.description),n.append(\"guest_number\",a.guest_number),e.setState({loading:!0}),t.prev=11,t.next=14,P(n);case 14:x.b.success(\"upload successfully\"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(11),x.b.error(t.t0.message);case 20:return t.prev=20,e.setState({loading:!1}),t.finish(20);case 23:case\"end\":return t.stop()}}),t,null,[[11,17,20,23]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:\"render\",value:function(){return Object(_.jsxs)(g.a,Object(K.a)(Object(K.a)({},X),{},{name:\"nest-messages\",onFinish:this.handleSubmit,style:{maxWidth:1e3,margin:\"auto\"},children:[Object(_.jsx)(g.a.Item,{name:\"name\",label:\"Name\",rules:[{required:!0}],children:Object(_.jsx)(v.a,{})}),Object(_.jsx)(g.a.Item,{name:\"address\",label:\"Address\",rules:[{required:!0}],children:Object(_.jsx)(v.a,{})}),Object(_.jsx)(g.a.Item,{name:\"description\",label:\"Description\",rules:[{required:!0}],children:Object(_.jsx)(v.a.TextArea,{autoSize:{minRows:2,maxRows:6}})}),Object(_.jsx)(g.a.Item,{name:\"guest_number\",label:\"Guest Number\",rules:[{required:!0,type:\"number\",min:1}],children:Object(_.jsx)(Q.a,{})}),Object(_.jsx)(g.a.Item,{name:\"picture\",label:\"Picture\",rules:[{required:!0}],children:Object(_.jsx)(\"input\",{type:\"file\",accept:\"image/png, image/jpeg\",ref:this.fileInputRef,multiple:!0})}),Object(_.jsx)(g.a.Item,{wrapperCol:Object(K.a)(Object(K.a)({},X.wrapperCol),{},{offset:8}),children:Object(_.jsx)(b.a,{type:\"primary\",htmlType:\"submit\",loading:this.state.loading,children:\"Submit\"})})]}))}}]),a}(r.a.Component),$=Z,ee=L.a.Text,te=V.a.TabPane,ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modalVisible:!1},e.openModal=function(){e.setState({modalVisible:!0})},e.handleCancel=function(){e.setState({modalVisible:!1})},e}return Object(o.a)(a,[{key:\"render\",value:function(){var e=this.props.stay,t=e.name,a=e.description,n=e.address,r=e.guest_number,s=this.state.modalVisible;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(B.a,{title:\"View Stay Details\",children:Object(_.jsx)(b.a,{onClick:this.openModal,style:{border:\"none\"},size:\"large\",icon:Object(_.jsx)(G.a,{})})}),s&&Object(_.jsx)(H.a,{title:t,centered:!0,visible:s,closable:!1,footer:null,onCancel:this.handleCancel,children:Object(_.jsxs)(y.b,{direction:\"vertical\",children:[Object(_.jsx)(ee,{strong:!0,children:\"Description\"}),Object(_.jsx)(ee,{type:\"secondary\",children:a}),Object(_.jsx)(ee,{strong:!0,children:\"Address\"}),Object(_.jsx)(ee,{type:\"secondary\",children:n}),Object(_.jsx)(ee,{strong:!0,children:\"Guest Number\"}),Object(_.jsx)(ee,{type:\"secondary\",children:r})]})})]})}}]),a}(r.a.Component),ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e.handleRemoveStay=Object(O.a)(m.a.mark((function t(){var a,n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,n=a.stay,r=a.onRemoveSuccess,e.setState({loading:!0}),t.prev=2,t.next=5,A(n.id);case 5:r(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),x.b.error(t.t0.message);case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case\"end\":return t.stop()}}),t,null,[[2,8,11,14]])}))),e}return Object(o.a)(a,[{key:\"render\",value:function(){return Object(_.jsx)(b.a,{loading:this.state.loading,onClick:this.handleRemoveStay,danger:!0,shape:\"round\",type:\"primary\",children:\"Remove Stay\"})}}]),a}(r.a.Component),re=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,reservations:[]},e.loadData=Object(O.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,M(e.props.stayId);case 4:a=t.sent,e.setState({reservations:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),x.b.error(t.t0.message);case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case\"end\":return t.stop()}}),t,null,[[1,8,11,14]])}))),e}return Object(o.a)(a,[{key:\"componentDidMount\",value:function(){this.loadData()}},{key:\"render\",value:function(){var e=this.state,t=e.loading,a=e.reservations;return Object(_.jsx)(q.b,{loading:t,dataSource:a,renderItem:function(e){return Object(_.jsx)(q.b.Item,{children:Object(_.jsx)(q.b.Item.Meta,{title:Object(_.jsxs)(ee,{children:[\"Guest Name: \",e.guest.username]}),description:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(ee,{children:[\"Checkin Date: \",e.checkin_date]}),Object(_.jsx)(\"br\",{}),Object(_.jsxs)(ee,{children:[\"Checkout Date: \",e.checkout_date]})]})})})}})}}]),a}(r.a.Component),se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modalVisible:!1},e.openModal=function(){e.setState({modalVisible:!0})},e.handleCancel=function(){e.setState({modalVisible:!1})},e}return Object(o.a)(a,[{key:\"render\",value:function(){var e=this.props.stay,t=this.state.modalVisible,a=\"Reservations of \".concat(e.name);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(b.a,{onClick:this.openModal,shape:\"round\",children:\"View Reservations\"}),t&&Object(_.jsx)(H.a,{title:a,centered:!0,visible:t,closable:!1,footer:null,onCancel:this.handleCancel,destroyOnClose:!0,children:Object(_.jsx)(re,{stayId:e.id})})]})}}]),a}(r.a.Component),ce=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,data:[]},e.loadData=Object(O.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.stay,e.setState({loading:!0}),t.prev=2,t.next=5,D();case 5:a=t.sent,e.setState({data:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),x.b.error(t.t0.message);case 12:return t.prev=12,e.setState({loading:!1}),t.finish(12);case 15:case\"end\":return t.stop()}}),t,null,[[2,9,12,15]])}))),e}return Object(o.a)(a,[{key:\"componentDidMount\",value:function(){this.loadData()}},{key:\"render\",value:function(){var e=this;return Object(_.jsx)(q.b,{loading:this.state.loading,grid:{gutter:16,xs:1,sm:3,md:3,lg:3,xl:4,xxl:4},dataSource:this.state.data,renderItem:function(t){return Object(_.jsx)(q.b.Item,{children:Object(_.jsx)(z.a,{title:Object(_.jsxs)(\"div\",{style:{display:\"flex\",alignItems:\"center\"},children:[Object(_.jsx)(ee,{ellipsis:!0,style:{maxWidth:150},children:t.name}),Object(_.jsx)(ae,{stay:t})]}),actions:[Object(_.jsx)(se,{stay:t})],extra:Object(_.jsx)(ne,{stay:t,onRemoveSuccess:e.loadData}),children:Object(_.jsx)(N.a,{dots:!1,arrows:!0,prevArrow:Object(_.jsx)(U.a,{}),nextArrow:Object(_.jsx)(W.a,{}),children:t.images.map((function(e,t){return Object(_.jsx)(\"div\",{children:Object(_.jsx)(J.a,{src:e.url,width:\"100%\"})},t)}))})},t.id)})}})}}]),a}(r.a.Component),ie=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:\"render\",value:function(){return Object(_.jsxs)(V.a,{defaultActiveKey:\"1\",destroyInactiveTabPane:!0,children:[Object(_.jsx)(te,{tab:\"My Stays\",children:Object(_.jsx)(ce,{})},\"1\"),Object(_.jsx)(te,{tab:\"Upload Stay\",children:Object(_.jsx)($,{})},\"2\")]})}}]),a}(r.a.Component),oe=ie,le=a(248),ue=L.a.Text,de=V.a.TabPane,he=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,modalVisible:!1},e.handleCancel=function(){e.setState({modalVisible:!1})},e.handleBookStay=function(){e.setState({modalVisible:!0})},e.handleSubmit=function(){var t=Object(O.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.stay,e.setState({loading:!0}),t.prev=2,t.next=5,F({checkin_date:a.checkin_date.format(\"YYYY-MM-DD\"),checkout_date:a.checkout_date.format(\"YYYY-MM-DD\"),stay:{id:n.id}});case 5:x.b.success(\"Successfully book stay\"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),x.b.error(t.t0.message);case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case\"end\":return t.stop()}}),t,null,[[2,8,11,14]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:\"render\",value:function(){var e=this.props.stay;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(b.a,{onClick:this.handleBookStay,shape:\"round\",type:\"primary\",children:\"Book Stay\"}),Object(_.jsx)(H.a,{destroyOnClose:!0,title:e.name,visible:this.state.modalVisible,footer:null,onCancel:this.handleCancel,children:Object(_.jsxs)(g.a,{preserve:!1,labelCol:{span:8},wrapperCol:{span:16},onFinish:this.handleSubmit,children:[Object(_.jsx)(g.a.Item,{label:\"Checkin Date\",name:\"checkin_date\",rules:[{required:!0}],children:Object(_.jsx)(le.a,{})}),Object(_.jsx)(g.a.Item,{label:\"Checkout Date\",name:\"checkout_date\",rules:[{required:!0}],children:Object(_.jsx)(le.a,{})}),Object(_.jsx)(g.a.Item,{wrapperCol:{offset:8,span:16},children:Object(_.jsx)(b.a,{loading:this.state.loading,type:\"primary\",htmlType:\"submit\",children:\"Book\"})})]})})]})}}]),a}(r.a.Component),je=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:[],loading:!1},e.search=function(){var t=Object(O.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,T(a);case 4:n=t.sent,e.setState({data:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),x.b.error(t.t0.message);case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case\"end\":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:\"render\",value:function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(g.a,{onFinish:this.search,layout:\"inline\",children:[Object(_.jsx)(g.a.Item,{label:\"Guest Number\",name:\"guest_number\",rules:[{required:!0}],children:Object(_.jsx)(Q.a,{min:1})}),Object(_.jsx)(g.a.Item,{label:\"Checkin Date\",name:\"checkin_date\",rules:[{required:!0}],children:Object(_.jsx)(le.a,{})}),Object(_.jsx)(g.a.Item,{label:\"Checkout Date\",name:\"checkout_date\",rules:[{required:!0}],children:Object(_.jsx)(le.a,{})}),Object(_.jsx)(g.a.Item,{children:Object(_.jsx)(b.a,{loading:this.state.loading,type:\"primary\",htmlType:\"submit\",children:\"Submit\"})})]}),Object(_.jsx)(q.b,{style:{marginTop:20},loading:this.state.loading,grid:{gutter:16,xs:1,sm:3,md:3,lg:3,xl:4,xxl:4},dataSource:this.state.data,renderItem:function(e){return Object(_.jsx)(q.b.Item,{children:Object(_.jsx)(z.a,{title:Object(_.jsxs)(\"div\",{style:{display:\"flex\",alignItems:\"center\"},children:[Object(_.jsx)(ue,{ellipsis:!0,style:{maxWidth:150},children:e.name}),Object(_.jsx)(ae,{stay:e})]}),extra:Object(_.jsx)(he,{stay:e}),children:Object(_.jsx)(N.a,{dots:!1,arrows:!0,prevArrow:Object(_.jsx)(U.a,{}),nextArrow:Object(_.jsx)(W.a,{}),children:e.images.map((function(e,t){return Object(_.jsx)(\"div\",{children:Object(_.jsx)(J.a,{src:e.url,width:\"100%\"})},t)}))})},e.id)})}})]})}}]),a}(r.a.Component),be=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e.handleCancelReservation=Object(O.a)(m.a.mark((function t(){var a,n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,n=a.reservationId,r=a.onCancelSuccess,e.setState({loading:!0}),t.prev=2,t.next=5,R(n);case 5:r(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),x.b.error(t.t0.message);case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case\"end\":return t.stop()}}),t,null,[[2,8,11,14]])}))),e}return Object(o.a)(a,[{key:\"render\",value:function(){return Object(_.jsx)(b.a,{loading:this.state.loading,onClick:this.handleCancelReservation,danger:!0,shape:\"round\",type:\"primary\",children:\"Cancel Reservation\"})}}]),a}(r.a.Component),pe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,data:[]},e.loadData=Object(O.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,I();case 4:a=t.sent,e.setState({data:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),x.b.error(t.t0.message);case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case\"end\":return t.stop()}}),t,null,[[1,8,11,14]])}))),e}return Object(o.a)(a,[{key:\"componentDidMount\",value:function(){this.loadData()}},{key:\"render\",value:function(){var e=this;return Object(_.jsx)(q.b,{style:{width:1e3,margin:\"auto\"},loading:this.state.loading,dataSource:this.state.data,renderItem:function(t){return Object(_.jsx)(q.b.Item,{actions:[Object(_.jsx)(be,{reservationId:t.id,onCancelSuccess:function(){return e.loadData()}})],children:Object(_.jsx)(q.b.Item.Meta,{title:Object(_.jsx)(ue,{children:t.stay.name}),description:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(ue,{children:[\"Checkin Date: \",t.checkin_date]}),Object(_.jsx)(\"br\",{}),Object(_.jsxs)(ue,{children:[\"Checkout Date: \",t.checkout_date]})]})})})}})}}]),a}(r.a.Component),fe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:\"render\",value:function(){return Object(_.jsxs)(V.a,{defaultActiveKey:\"1\",destroyInactiveTabPane:!0,children:[Object(_.jsx)(de,{tab:\"Search Stays\",children:Object(_.jsx)(je,{})},\"1\"),Object(_.jsx)(de,{tab:\"My Reservations\",children:Object(_.jsx)(pe,{})},\"2\"),\"ane 3\"]})}}]),a}(r.a.Component),me=fe,Oe=d.a.Header,xe=d.a.Content,ge=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={authed:!1,asHost:!1},e.handleLoginSuccess=function(t,a){localStorage.setItem(\"authToken\",t),localStorage.setItem(\"asHost\",a),e.setState({authed:!0,asHost:a})},e.handleLogOut=function(){localStorage.removeItem(\"authToken\"),localStorage.removeItem(\"asHost\"),e.setState({authed:!1})},e.renderContent=function(){return e.state.authed?e.state.asHost?Object(_.jsx)(oe,{}):Object(_.jsx)(me,{}):Object(_.jsx)(Y,{handleLoginSuccess:e.handleLoginSuccess})},e.userMenu=Object(_.jsx)(h.a,{children:Object(_.jsx)(h.a.Item,{onClick:e.handleLogOut,children:\"Log Out\"},\"logout\")}),e}return Object(o.a)(a,[{key:\"componentDidMount\",value:function(){var e=localStorage.getItem(\"authToken\"),t=\"true\"===localStorage.getItem(\"asHost\");this.setState({authed:null!==e,asHost:t})}},{key:\"render\",value:function(){return Object(_.jsxs)(d.a,{style:{height:\"100vh\"},children:[Object(_.jsxs)(Oe,{style:{display:\"flex\",justifyContent:\"space-between\"},children:[Object(_.jsx)(\"div\",{style:{fontSize:24,fontWeight:600,color:\"white\"},children:\"DEMO: STAY RENTAL APPLICATION\"}),this.state.authed&&Object(_.jsx)(\"div\",{children:Object(_.jsx)(j.a,{trigger:\"click\",overlay:this.userMenu,children:Object(_.jsx)(b.a,{icon:Object(_.jsx)(p.a,{}),shape:\"circle\"})})})]}),Object(_.jsx)(xe,{style:{height:\"calc(100% - 64px)\",margin:20,overflow:\"auto\"},children:this.renderContent()})]})}}]),a}(r.a.Component),ve=ge,ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,265)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(ve,{})}),document.getElementById(\"root\")),ye()}},[[245,1,2]]]);","name":"static/js/main.b9d581eb.chunk.js","map":{"version":3,"sources":["static/js/main.b9d581eb.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","inherits","createSuper","layout","menu","dropdown","es_button","UserOutlined","regenerator","regenerator_default","asyncToGenerator","message","es_form","input","space","es_checkbox","domain","login","credential","asHost","loginUrl","concat","fetch","method","headers","body","JSON","stringify","then","response","status","Error","json","register","registerUrl","getReservations","authToken","localStorage","getItem","listReservationsUrl","Authorization","getStaysByHost","listStaysUrl","searchStays","query","searchStaysUrl","URL","searchParams","append","guest_number","checkin_date","format","checkout_date","deleteStay","stayId","deleteStayUrl","bookStay","data","bookStayUrl","cancelReservation","reservationId","cancelReservationUrl","getReservationsByStay","getReservationByStayUrl","uploadStay","uploadStayUrl","jsx_runtime","LoginPage_LoginPage","_React$Component","Object","LoginPage","_super","_this","_len","arguments","length","args","Array","_key","call","apply","formRef","a","createRef","state","loading","onFinish","console","log","handleLogin","mark","_callee","formInstance","resp","wrap","_context","prev","next","current","validateFields","t0","abrupt","setState","getFieldsValue","sent","props","handleLoginSuccess","token","t1","error","finish","stop","handleRegister","_callee2","_context2","success","handleCheckboxOnChange","e","target","checked","key","value","style","width","margin","children","ref","Item","name","rules","required","disabled","prefix","className","placeholder","Password","onChange","onClick","shape","type","Component","components_LoginPage","typography","tabs","tooltip","modal","list","card","carousel","es_image","InfoCircleOutlined","LeftCircleFilled","RightCircleFilled","objectSpread2","input_number","UploadStay_layout","labelCol","span","wrapperCol","UploadStay_UploadStay","UploadStay","fileInputRef","handleSubmit","_ref","values","formData","files","i","FormData","address","description","_x","maxWidth","label","TextArea","autoSize","minRows","maxRows","min","accept","multiple","offset","htmlType","components_UploadStay","Text","TabPane","HostHomePage_StayDetailInfoButton","StayDetailInfoButton","modalVisible","openModal","handleCancel","stay","title","border","size","icon","centered","visible","closable","footer","onCancel","direction","strong","HostHomePage_RemoveStayButton","_React$Component2","RemoveStayButton","_super2","_this2","_len2","_key2","handleRemoveStay","_this2$props","onRemoveSuccess","id","danger","HostHomePage_ReservationList","_React$Component3","ReservationList","_super3","_this3","_len3","_key3","reservations","loadData","_this$state","dataSource","renderItem","item","Meta","guest","username","HostHomePage_ViewReservationsButton","_React$Component4","ViewReservationsButton","_super4","_this4","_len4","_key4","modalTitle","destroyOnClose","HostHomePage_MyStays","_React$Component5","MyStays","_super5","_this5","_len5","_key5","_callee3","_context3","_this6","grid","gutter","xs","sm","md","lg","xl","xxl","display","alignItems","ellipsis","actions","extra","dots","arrows","prevArrow","nextArrow","images","map","image","index","src","url","HostHomePage_HostHomePage","_React$Component6","HostHomePage","_super6","defaultActiveKey","destroyInactiveTabPane","tab","components_HostHomePage","date_picker","GuestHomePage_Text","GuestHomePage_TabPane","GuestHomePage_BookStayButton","BookStayButton","handleBookStay","preserve","GuestHomePage_SearchStays","SearchStays","search","_ref2","_x2","marginTop","GuestHomePage_CancelReservationButton","CancelReservationButton","handleCancelReservation","_this3$props","onCancelSuccess","GuestHomePage_MyReservations","MyReservations","_callee4","_context4","GuestHomePage_GuestHomePage","GuestHomePage","components_GuestHomePage","Header","Content","App_App","App","authed","setItem","handleLogOut","removeItem","renderContent","userMenu","height","justifyContent","fontSize","fontWeight","color","trigger","overlay","overflow","src_App","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpstaybooking-app\"] = this[\"webpackJsonpstaybooking-app\"] || []).push([[0],{\n\n/***/ 167:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 245:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(27);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(167);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(31);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/layout/index.js\nvar layout = __webpack_require__(247);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/menu/index.js + 3 modules\nvar menu = __webpack_require__(259);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/dropdown/index.js + 2 modules\nvar dropdown = __webpack_require__(260);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__(46);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/UserOutlined.js + 1 modules\nvar UserOutlined = __webpack_require__(262);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(26);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(41);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__(159);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/form/index.js + 17 modules\nvar es_form = __webpack_require__(250);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/input/index.js + 5 modules\nvar input = __webpack_require__(256);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/space/index.js + 1 modules\nvar space = __webpack_require__(261);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/checkbox/index.js + 3 modules\nvar es_checkbox = __webpack_require__(258);\n\n// CONCATENATED MODULE: ./src/utils.js\nvar domain=\"http://onyx-nexus-326722.de.r.appspot.com\";// body: JSON.stringify(credential) 将登陆信息转换成json格式的string\nvar login=function login(credential,asHost){var loginUrl=\"\".concat(domain,\"/authenticate/\").concat(asHost?\"host\":\"guest\");return fetch(loginUrl,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(credential)}).then(function(response){if(response.status!==200){throw Error(\"Fail to log in\");}return response.json();});};var register=function register(credential,asHost){var registerUrl=\"\".concat(domain,\"/register/\").concat(asHost?\"host\":\"guest\");return fetch(registerUrl,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(credential)}).then(function(response){if(response.status!==200){throw Error(\"Fail to register\");}});};var getReservations=function getReservations(){//local storage 浏览器提供的object\nvar authToken=localStorage.getItem(\"authToken\");var listReservationsUrl=\"\".concat(domain,\"/reservations\");return fetch(listReservationsUrl,{headers:{Authorization:\"Bearer \".concat(authToken)}}).then(function(response){if(response.status!==200){throw Error(\"Fail to get reservation list\");}return response.json();});};// authz authorization:进入后是什么角色\n// authn authentication: 登陆\nvar getStaysByHost=function getStaysByHost(){var authToken=localStorage.getItem(\"authToken\");var listStaysUrl=\"\".concat(domain,\"/stays/\");return fetch(listStaysUrl,{headers:{Authorization:\"Bearer \".concat(authToken)}}).then(function(response){if(response.status!==200){throw Error(\"Fail to get stay list\");}return response.json();});};var searchStays=function searchStays(query){var authToken=localStorage.getItem(\"authToken\");var searchStaysUrl=new URL(\"\".concat(domain,\"/search/\"));//统一后端格式\n//如何往url上安全地增加query string的内容\n//protocol://domain:port/path?querystring#hashtag\nsearchStaysUrl.searchParams.append(\"guest_number\",query.guest_number);//format <DataPicker />所传的数据\nsearchStaysUrl.searchParams.append(\"checkin_date\",query.checkin_date.format(\"YYYY-MM-DD\"));searchStaysUrl.searchParams.append(\"checkout_date\",query.checkout_date.format(\"YYYY-MM-DD\"));searchStaysUrl.searchParams.append(\"lat\",37);searchStaysUrl.searchParams.append(\"lon\",-122);return fetch(searchStaysUrl,{headers:{Authorization:\"Bearer \".concat(authToken)}}).then(function(response){if(response.status!==200){throw Error(\"Fail to search stays\");}return response.json();});};var deleteStay=function deleteStay(stayId){var authToken=localStorage.getItem(\"authToken\");var deleteStayUrl=\"\".concat(domain,\"/stays/\").concat(stayId);return fetch(deleteStayUrl,{method:\"DELETE\",headers:{Authorization:\"Bearer \".concat(authToken)}}).then(function(response){if(response.status!==200){throw Error(\"Fail to delete stay\");}});};var bookStay=function bookStay(data){var authToken=localStorage.getItem(\"authToken\");var bookStayUrl=\"\".concat(domain,\"/reservations\");return fetch(bookStayUrl,{method:\"POST\",headers:{Authorization:\"Bearer \".concat(authToken),\"Content-Type\":\"application/json\"},body:JSON.stringify(data)}).then(function(response){if(response.status!==200){throw Error(\"Fail to book reservation\");}});};var cancelReservation=function cancelReservation(reservationId){var authToken=localStorage.getItem(\"authToken\");var cancelReservationUrl=\"\".concat(domain,\"/reservations/\").concat(reservationId);return fetch(cancelReservationUrl,{method:\"DELETE\",headers:{Authorization:\"Bearer \".concat(authToken)}}).then(function(response){if(response.status!==200){throw Error(\"Fail to cancel reservation\");}});};var getReservationsByStay=function getReservationsByStay(stayId){var authToken=localStorage.getItem(\"authToken\");var getReservationByStayUrl=\"\".concat(domain,\"/stays/reservations/\").concat(stayId);return fetch(getReservationByStayUrl,{headers:{Authorization:\"Bearer \".concat(authToken)}}).then(function(response){if(response.status!==200){throw Error(\"Fail to get reservations by stay\");}return response.json();});};var uploadStay=function uploadStay(data){var authToken=localStorage.getItem(\"authToken\");var uploadStayUrl=\"\".concat(domain,\"/stays\");return fetch(uploadStayUrl,{method:\"POST\",headers:{Authorization:\"Bearer \".concat(authToken)},body:data}).then(function(response){if(response.status!==200){throw Error(\"Fail to upload stay\");}});};\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(6);\n\n// CONCATENATED MODULE: ./src/components/LoginPage.js\nvar LoginPage_LoginPage=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(LoginPage,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(LoginPage);function LoginPage(){var _this;Object(classCallCheck[\"a\" /* default */])(this,LoginPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.formRef=/*#__PURE__*/react_default.a.createRef();_this.state={asHost:false,loading:false};_this.onFinish=function(){console.log(\"finish form\");};_this.handleLogin=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var formInstance,asHost,resp;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formInstance=_this.formRef.current;_context.prev=1;_context.next=4;return formInstance.validateFields();case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\");case 9:_this.setState({loading:true});_context.prev=10;asHost=_this.state.asHost;//formInstance.getFieldsValue(true)， 从当前instance取出值\n_context.next=14;return login(formInstance.getFieldsValue(true),asHost);case 14:resp=_context.sent;//登陆成功后，parent的component通过props做的事情\n//记录token，确认一下authority是否是host\n_this.props.handleLoginSuccess(resp.token,asHost);_context.next=21;break;case 18:_context.prev=18;_context.t1=_context[\"catch\"](10);message[\"b\" /* default */].error(_context.t1.message);case 21:_context.prev=21;_this.setState({loading:false});return _context.finish(21);case 24:case\"end\":return _context.stop();}}},_callee,null,[[1,6],[10,18,21,24]]);}));_this.handleRegister=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var formInstance;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formInstance=_this.formRef.current;//在前端中检查\n_context2.prev=1;_context2.next=4;return formInstance.validateFields();case 4:_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](1);return _context2.abrupt(\"return\");case 9://前端的validation通过\n_this.setState({loading:true});_context2.prev=10;_context2.next=13;return register(formInstance.getFieldsValue(true),_this.state.asHost);case 13:message[\"b\" /* default */].success(\"Register Successfully\");_context2.next=19;break;case 16:_context2.prev=16;_context2.t1=_context2[\"catch\"](10);message[\"b\" /* default */].error(_context2.t1.message);case 19:_context2.prev=19;_this.setState({loading:false});return _context2.finish(19);case 22:case\"end\":return _context2.stop();}}},_callee2,null,[[1,6],[10,16,19,22]]);}));_this.handleCheckboxOnChange=function(e){_this.setState({asHost:e.target.checked});};return _this;}Object(createClass[\"a\" /* default */])(LoginPage,[{key:\"render\",value://onfish事件会在form提交时触发\n// 绑定formRef\nfunction render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{width:500,margin:\"20px auto\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(es_form[\"a\" /* default */],{ref:this.formRef,onFinish:this.onFinish,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{name:\"username\",rules:[{required:true,message:\"Please input your Username!\"}],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(input[\"a\" /* default */],{disabled:this.state.loading,prefix:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserOutlined[\"a\" /* default */],{className:\"site-form-item-icon\"}),placeholder:\"Username\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{name:\"password\",rules:[{required:true,message:\"Please input your Password!\"}],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(input[\"a\" /* default */].Password,{disabled:this.state.loading,placeholder:\"Password\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(space[\"b\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_checkbox[\"a\" /* default */],{disabled:this.state.loading,checked:this.state.asHost,onChange:this.handleCheckboxOnChange,children:\"As Host\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{onClick:this.handleLogin,disabled:this.state.loading,shape:\"round\",type:\"primary\",children:\"Log in\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{onClick:this.handleRegister,disabled:this.state.loading,shape:\"round\",type:\"primary\",children:\"Register\"})]})]});}}]);return LoginPage;}(react_default.a.Component);/* harmony default export */ var components_LoginPage = (LoginPage_LoginPage);\n// EXTERNAL MODULE: ./node_modules/antd/es/typography/index.js + 15 modules\nvar typography = __webpack_require__(252);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tabs/index.js + 17 modules\nvar tabs = __webpack_require__(140);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tooltip/index.js + 1 modules\nvar tooltip = __webpack_require__(66);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/index.js + 8 modules\nvar modal = __webpack_require__(255);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/list/index.js + 25 modules\nvar list = __webpack_require__(249);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/card/index.js + 4 modules\nvar card = __webpack_require__(257);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/carousel/index.js + 9 modules\nvar carousel = __webpack_require__(254);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/image/index.js + 16 modules\nvar es_image = __webpack_require__(251);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js + 1 modules\nvar InfoCircleOutlined = __webpack_require__(123);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/LeftCircleFilled.js + 1 modules\nvar LeftCircleFilled = __webpack_require__(263);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/RightCircleFilled.js + 1 modules\nvar RightCircleFilled = __webpack_require__(264);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(91);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/input-number/index.js + 11 modules\nvar input_number = __webpack_require__(253);\n\n// CONCATENATED MODULE: ./src/components/UploadStay.js\nvar UploadStay_layout={labelCol:{span:8},wrapperCol:{span:16}};var UploadStay_UploadStay=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(UploadStay,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(UploadStay);function UploadStay(){var _this;Object(classCallCheck[\"a\" /* default */])(this,UploadStay);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:false};_this.fileInputRef=/*#__PURE__*/react_default.a.createRef();_this.handleSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(values){var formData,files,i;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();files=_this.fileInputRef.current.files;//检查是否传的文件超过五个\nif(!(files.length>5)){_context.next=5;break;}message[\"b\" /* default */].error(\"You can at most upload 5 pictures.\");return _context.abrupt(\"return\");case 5://将酒店图片append到form data上\nfor(i=0;i<files.length;i++){formData.append(\"images\",files[i]);}//将上传文件的用户信息append到form data上\nformData.append(\"name\",values.name);formData.append(\"address\",values.address);formData.append(\"description\",values.description);formData.append(\"guest_number\",values.guest_number);_this.setState({loading:true});_context.prev=11;_context.next=14;return uploadStay(formData);case 14:message[\"b\" /* default */].success(\"upload successfully\");_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](11);message[\"b\" /* default */].error(_context.t0.message);case 20:_context.prev=20;_this.setState({loading:false});return _context.finish(20);case 23:case\"end\":return _context.stop();}}},_callee,null,[[11,17,20,23]]);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}Object(createClass[\"a\" /* default */])(UploadStay,[{key:\"render\",value:function render(){// {...layout} spread 语法，把layout这个object里的内容，\n// 一对一对作为key value pair传入form\n// <Form {...layout}></Form> 等价于 <Form lableCol = {} wrapper= {}> </From>\n//name是property的名字，label是在ui上显示的字样\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(es_form[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},UploadStay_layout),{},{name:\"nest-messages\",onFinish:this.handleSubmit,style:{maxWidth:1000,margin:\"auto\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{name:\"name\",label:\"Name\",rules:[{required:true}],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(input[\"a\" /* default */],{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{name:\"address\",label:\"Address\",rules:[{required:true}],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(input[\"a\" /* default */],{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{name:\"description\",label:\"Description\",rules:[{required:true}],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(input[\"a\" /* default */].TextArea,{autoSize:{minRows:2,maxRows:6}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{name:\"guest_number\",label:\"Guest Number\",rules:[{required:true,type:\"number\",min:1}],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(input_number[\"a\" /* default */],{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{name:\"picture\",label:\"Picture\",rules:[{required:true}],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",accept:\"image/png, image/jpeg\",ref:this.fileInputRef,multiple:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{wrapperCol:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},UploadStay_layout.wrapperCol),{},{offset:8}),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{type:\"primary\",htmlType:\"submit\",loading:this.state.loading,children:\"Submit\"})})]}));}}]);return UploadStay;}(react_default.a.Component);/* harmony default export */ var components_UploadStay = (UploadStay_UploadStay);\n// CONCATENATED MODULE: ./src/components/HostHomePage.js\nvar Text=typography[\"a\" /* default */].Text;var TabPane=tabs[\"a\" /* default */].TabPane;//idea：将与主要功能不缠绕（互相有关系）的button重新分成一个component\nvar HostHomePage_StayDetailInfoButton=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(StayDetailInfoButton,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(StayDetailInfoButton);function StayDetailInfoButton(){var _this;Object(classCallCheck[\"a\" /* default */])(this,StayDetailInfoButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={modalVisible:false};_this.openModal=function(){_this.setState({modalVisible:true});};_this.handleCancel=function(){_this.setState({modalVisible:false});};return _this;}Object(createClass[\"a\" /* default */])(StayDetailInfoButton,[{key:\"render\",value:function render(){var stay=this.props.stay;var name=stay.name,description=stay.description,address=stay.address,guest_number=stay.guest_number;var modalVisible=this.state.modalVisible;//name of 弹窗: modal\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(tooltip[\"a\" /* default */],{title:\"View Stay Details\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{onClick:this.openModal,style:{border:\"none\"},size:\"large\",icon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoCircleOutlined[\"a\" /* default */],{})})}),modalVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(modal[\"a\" /* default */],{title:name,centered:true,visible:modalVisible,closable:false,footer:null,onCancel:this.handleCancel,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(space[\"b\" /* default */],{direction:\"vertical\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{strong:true,children:\"Description\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{type:\"secondary\",children:description}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{strong:true,children:\"Address\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{type:\"secondary\",children:address}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{strong:true,children:\"Guest Number\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{type:\"secondary\",children:guest_number})]})})]});}}]);return StayDetailInfoButton;}(react_default.a.Component);var HostHomePage_RemoveStayButton=/*#__PURE__*/function(_React$Component2){Object(inherits[\"a\" /* default */])(RemoveStayButton,_React$Component2);var _super2=Object(createSuper[\"a\" /* default */])(RemoveStayButton);function RemoveStayButton(){var _this2;Object(classCallCheck[\"a\" /* default */])(this,RemoveStayButton);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this2=_super2.call.apply(_super2,[this].concat(args));_this2.state={loading:false};_this2.handleRemoveStay=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var _this2$props,stay,onRemoveSuccess;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this2$props=_this2.props,stay=_this2$props.stay,onRemoveSuccess=_this2$props.onRemoveSuccess;_this2.setState({loading:true});_context.prev=2;_context.next=5;return deleteStay(stay.id);case 5://删除后重新加载页面\nonRemoveSuccess();_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);message[\"b\" /* default */].error(_context.t0.message);case 11:_context.prev=11;_this2.setState({loading:false});return _context.finish(11);case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,8,11,14]]);}));return _this2;}Object(createClass[\"a\" /* default */])(RemoveStayButton,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{loading:this.state.loading,onClick:this.handleRemoveStay,danger:true,shape:\"round\",type:\"primary\",children:\"Remove Stay\"});}}]);return RemoveStayButton;}(react_default.a.Component);var HostHomePage_ReservationList=/*#__PURE__*/function(_React$Component3){Object(inherits[\"a\" /* default */])(ReservationList,_React$Component3);var _super3=Object(createSuper[\"a\" /* default */])(ReservationList);function ReservationList(){var _this3;Object(classCallCheck[\"a\" /* default */])(this,ReservationList);for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}_this3=_super3.call.apply(_super3,[this].concat(args));_this3.state={loading:false,reservations:[]};_this3.loadData=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var resp;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this3.setState({loading:true});_context2.prev=1;_context2.next=4;return getReservationsByStay(_this3.props.stayId);case 4:resp=_context2.sent;_this3.setState({reservations:resp});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);message[\"b\" /* default */].error(_context2.t0.message);case 11:_context2.prev=11;_this3.setState({loading:false});return _context2.finish(11);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8,11,14]]);}));return _this3;}Object(createClass[\"a\" /* default */])(ReservationList,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadData();}},{key:\"render\",value:function render(){var _this$state=this.state,loading=_this$state.loading,reservations=_this$state.reservations;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(list[\"b\" /* default */],{loading:loading,dataSource:reservations,renderItem:function renderItem(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(list[\"b\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(list[\"b\" /* default */].Item.Meta,{title:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{children:[\"Guest Name: \",item.guest.username]}),description:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{children:[\"Checkin Date: \",item.checkin_date]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{children:[\"Checkout Date: \",item.checkout_date]})]})})});}});}}]);return ReservationList;}(react_default.a.Component);var HostHomePage_ViewReservationsButton=/*#__PURE__*/function(_React$Component4){Object(inherits[\"a\" /* default */])(ViewReservationsButton,_React$Component4);var _super4=Object(createSuper[\"a\" /* default */])(ViewReservationsButton);function ViewReservationsButton(){var _this4;Object(classCallCheck[\"a\" /* default */])(this,ViewReservationsButton);for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}_this4=_super4.call.apply(_super4,[this].concat(args));_this4.state={modalVisible:false};_this4.openModal=function(){_this4.setState({modalVisible:true});};_this4.handleCancel=function(){_this4.setState({modalVisible:false});};return _this4;}Object(createClass[\"a\" /* default */])(ViewReservationsButton,[{key:\"render\",value:function render(){var stay=this.props.stay;var modalVisible=this.state.modalVisible;// string template\nvar modalTitle=\"Reservations of \".concat(stay.name);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{onClick:this.openModal,shape:\"round\",children:\"View Reservations\"}),modalVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(modal[\"a\" /* default */],{title:modalTitle,centered:true,visible:modalVisible,closable:false,footer:null,onCancel:this.handleCancel,destroyOnClose:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HostHomePage_ReservationList,{stayId:stay.id})})]});}}]);return ViewReservationsButton;}(react_default.a.Component);var HostHomePage_MyStays=/*#__PURE__*/function(_React$Component5){Object(inherits[\"a\" /* default */])(MyStays,_React$Component5);var _super5=Object(createSuper[\"a\" /* default */])(MyStays);function MyStays(){var _this5;Object(classCallCheck[\"a\" /* default */])(this,MyStays);for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++){args[_key5]=arguments[_key5];}_this5=_super5.call.apply(_super5,[this].concat(args));_this5.state={loading:false,data:[]};_this5.loadData=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var stay,resp;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:stay=_this5.props.stay;_this5.setState({loading:true});_context3.prev=2;_context3.next=5;return getStaysByHost();case 5:resp=_context3.sent;_this5.setState({data:resp});_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](2);message[\"b\" /* default */].error(_context3.t0.message);case 12:_context3.prev=12;_this5.setState({loading:false});return _context3.finish(12);case 15:case\"end\":return _context3.stop();}}},_callee3,null,[[2,9,12,15]]);}));return _this5;}Object(createClass[\"a\" /* default */])(MyStays,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadData();}//控制ui的 loading indication的显示\n},{key:\"render\",value:// grid = {{}}是一种props\n// 凡是props不是string的，需要插入第一层{}表示不需要翻译， 而第二层{}则是js object\nfunction render(){var _this6=this;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(list[\"b\" /* default */],{loading:this.state.loading,grid:{gutter:16,xs:1,sm:3,md:3,lg:3,xl:4,xxl:4},dataSource:this.state.data,renderItem:function renderItem(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(list[\"b\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(card[\"a\" /* default */],{title:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{ellipsis:true,style:{maxWidth:150},children:item.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HostHomePage_StayDetailInfoButton,{stay:item})]}),actions:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HostHomePage_ViewReservationsButton,{stay:item})],extra:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HostHomePage_RemoveStayButton,{stay:item,onRemoveSuccess:_this6.loadData}),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(carousel[\"a\" /* default */],{dots:false,arrows:true,prevArrow:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LeftCircleFilled[\"a\" /* default */],{}),nextArrow:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RightCircleFilled[\"a\" /* default */],{}),children:item.images.map(function(image,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_image[\"a\" /* default */],{src:image.url,width:\"100%\"})},index);})})},item.id)});}});}}]);return MyStays;}(react_default.a.Component);var HostHomePage_HostHomePage=/*#__PURE__*/function(_React$Component6){Object(inherits[\"a\" /* default */])(HostHomePage,_React$Component6);var _super6=Object(createSuper[\"a\" /* default */])(HostHomePage);function HostHomePage(){Object(classCallCheck[\"a\" /* default */])(this,HostHomePage);return _super6.apply(this,arguments);}Object(createClass[\"a\" /* default */])(HostHomePage,[{key:\"render\",value://destroyInactiveTabPane: delete inactive TabPlane on the DOM tree\nfunction render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(tabs[\"a\" /* default */],{defaultActiveKey:\"1\",destroyInactiveTabPane:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TabPane,{tab:\"My Stays\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HostHomePage_MyStays,{})},\"1\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TabPane,{tab:\"Upload Stay\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_UploadStay,{})},\"2\")]});}}]);return HostHomePage;}(react_default.a.Component);/* harmony default export */ var components_HostHomePage = (HostHomePage_HostHomePage);\n// EXTERNAL MODULE: ./node_modules/antd/es/date-picker/index.js + 58 modules\nvar date_picker = __webpack_require__(248);\n\n// CONCATENATED MODULE: ./src/components/GuestHomePage.js\nvar GuestHomePage_Text=typography[\"a\" /* default */].Text;var GuestHomePage_TabPane=tabs[\"a\" /* default */].TabPane;var GuestHomePage_BookStayButton=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(BookStayButton,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(BookStayButton);function BookStayButton(){var _this;Object(classCallCheck[\"a\" /* default */])(this,BookStayButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:false,modalVisible:false};_this.handleCancel=function(){_this.setState({modalVisible:false});};_this.handleBookStay=function(){_this.setState({modalVisible:true});};_this.handleSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(values){var stay;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:stay=_this.props.stay;_this.setState({loading:true});_context.prev=2;_context.next=5;return bookStay({checkin_date:values.checkin_date.format(\"YYYY-MM-DD\"),checkout_date:values.checkout_date.format(\"YYYY-MM-DD\"),stay:{id:stay.id}});case 5:message[\"b\" /* default */].success(\"Successfully book stay\");_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);message[\"b\" /* default */].error(_context.t0.message);case 11:_context.prev=11;_this.setState({loading:false});return _context.finish(11);case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,8,11,14]]);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}Object(createClass[\"a\" /* default */])(BookStayButton,[{key:\"render\",value:function render(){var stay=this.props.stay;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{onClick:this.handleBookStay,shape:\"round\",type:\"primary\",children:\"Book Stay\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(modal[\"a\" /* default */],{destroyOnClose:true,title:stay.name,visible:this.state.modalVisible,footer:null,onCancel:this.handleCancel,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(es_form[\"a\" /* default */],{preserve:false,labelCol:{span:8},wrapperCol:{span:16},onFinish:this.handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{label:\"Checkin Date\",name:\"checkin_date\",rules:[{required:true}],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(date_picker[\"a\" /* default */],{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{label:\"Checkout Date\",name:\"checkout_date\",rules:[{required:true}],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(date_picker[\"a\" /* default */],{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{wrapperCol:{offset:8,span:16},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{loading:this.state.loading,type:\"primary\",htmlType:\"submit\",children:\"Book\"})})]})})]});}}]);return BookStayButton;}(react_default.a.Component);var GuestHomePage_SearchStays=/*#__PURE__*/function(_React$Component2){Object(inherits[\"a\" /* default */])(SearchStays,_React$Component2);var _super2=Object(createSuper[\"a\" /* default */])(SearchStays);function SearchStays(){var _this2;Object(classCallCheck[\"a\" /* default */])(this,SearchStays);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this2=_super2.call.apply(_super2,[this].concat(args));_this2.state={data:[],loading:false};_this2.search=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(query){var resp;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this2.setState({loading:true});_context2.prev=1;_context2.next=4;return searchStays(query);case 4:resp=_context2.sent;_this2.setState({data:resp});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);message[\"b\" /* default */].error(_context2.t0.message);case 11:_context2.prev=11;_this2.setState({loading:false});return _context2.finish(11);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8,11,14]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();return _this2;}Object(createClass[\"a\" /* default */])(SearchStays,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(es_form[\"a\" /* default */],{onFinish:this.search,layout:\"inline\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{label:\"Guest Number\",name:\"guest_number\",rules:[{required:true}],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(input_number[\"a\" /* default */],{min:1})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{label:\"Checkin Date\",name:\"checkin_date\",rules:[{required:true}],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(date_picker[\"a\" /* default */],{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{label:\"Checkout Date\",name:\"checkout_date\",rules:[{required:true}],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(date_picker[\"a\" /* default */],{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_form[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{loading:this.state.loading,type:\"primary\",htmlType:\"submit\",children:\"Submit\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(list[\"b\" /* default */],{style:{marginTop:20},loading:this.state.loading,grid:{gutter:16,xs:1,sm:3,md:3,lg:3,xl:4,xxl:4},dataSource:this.state.data,renderItem:function renderItem(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(list[\"b\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(card[\"a\" /* default */],{title:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuestHomePage_Text,{ellipsis:true,style:{maxWidth:150},children:item.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HostHomePage_StayDetailInfoButton,{stay:item})]}),extra:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuestHomePage_BookStayButton,{stay:item}),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(carousel[\"a\" /* default */],{dots:false,arrows:true,prevArrow:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LeftCircleFilled[\"a\" /* default */],{}),nextArrow:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RightCircleFilled[\"a\" /* default */],{}),children:item.images.map(function(image,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_image[\"a\" /* default */],{src:image.url,width:\"100%\"})},index);})})},item.id)});}})]});}}]);return SearchStays;}(react_default.a.Component);var GuestHomePage_CancelReservationButton=/*#__PURE__*/function(_React$Component3){Object(inherits[\"a\" /* default */])(CancelReservationButton,_React$Component3);var _super3=Object(createSuper[\"a\" /* default */])(CancelReservationButton);function CancelReservationButton(){var _this3;Object(classCallCheck[\"a\" /* default */])(this,CancelReservationButton);for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}_this3=_super3.call.apply(_super3,[this].concat(args));_this3.state={loading:false};_this3.handleCancelReservation=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var _this3$props,reservationId,onCancelSuccess;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this3$props=_this3.props,reservationId=_this3$props.reservationId,onCancelSuccess=_this3$props.onCancelSuccess;_this3.setState({loading:true});_context3.prev=2;_context3.next=5;return cancelReservation(reservationId);case 5:onCancelSuccess();_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](2);message[\"b\" /* default */].error(_context3.t0.message);case 11:_context3.prev=11;_this3.setState({loading:false});return _context3.finish(11);case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[2,8,11,14]]);}));return _this3;}Object(createClass[\"a\" /* default */])(CancelReservationButton,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{loading:this.state.loading,onClick:this.handleCancelReservation,danger:true,shape:\"round\",type:\"primary\",children:\"Cancel Reservation\"});}}]);return CancelReservationButton;}(react_default.a.Component);var GuestHomePage_MyReservations=/*#__PURE__*/function(_React$Component4){Object(inherits[\"a\" /* default */])(MyReservations,_React$Component4);var _super4=Object(createSuper[\"a\" /* default */])(MyReservations);function MyReservations(){var _this4;Object(classCallCheck[\"a\" /* default */])(this,MyReservations);for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}_this4=_super4.call.apply(_super4,[this].concat(args));_this4.state={loading:false,data:[]};_this4.loadData=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){var resp;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this4.setState({loading:true});_context4.prev=1;_context4.next=4;return getReservations();case 4:resp=_context4.sent;_this4.setState({data:resp});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);message[\"b\" /* default */].error(_context4.t0.message);case 11:_context4.prev=11;_this4.setState({loading:false});return _context4.finish(11);case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8,11,14]]);}));return _this4;}Object(createClass[\"a\" /* default */])(MyReservations,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadData();}},{key:\"render\",value:function render(){var _this5=this;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(list[\"b\" /* default */],{style:{width:1000,margin:\"auto\"},loading:this.state.loading,dataSource:this.state.data,renderItem:function renderItem(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(list[\"b\" /* default */].Item,{actions:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuestHomePage_CancelReservationButton,{reservationId:item.id,onCancelSuccess:function onCancelSuccess(){return _this5.loadData();}})],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(list[\"b\" /* default */].Item.Meta,{title:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuestHomePage_Text,{children:item.stay.name}),description:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(GuestHomePage_Text,{children:[\"Checkin Date: \",item.checkin_date]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(GuestHomePage_Text,{children:[\"Checkout Date: \",item.checkout_date]})]})})});}});}}]);return MyReservations;}(react_default.a.Component);var GuestHomePage_GuestHomePage=/*#__PURE__*/function(_React$Component5){Object(inherits[\"a\" /* default */])(GuestHomePage,_React$Component5);var _super5=Object(createSuper[\"a\" /* default */])(GuestHomePage);function GuestHomePage(){Object(classCallCheck[\"a\" /* default */])(this,GuestHomePage);return _super5.apply(this,arguments);}Object(createClass[\"a\" /* default */])(GuestHomePage,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(tabs[\"a\" /* default */],{defaultActiveKey:\"1\",destroyInactiveTabPane:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuestHomePage_TabPane,{tab:\"Search Stays\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuestHomePage_SearchStays,{})},\"1\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuestHomePage_TabPane,{tab:\"My Reservations\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuestHomePage_MyReservations,{})},\"2\"),\"ane 3\"]});}}]);return GuestHomePage;}(react_default.a.Component);/* harmony default export */ var components_GuestHomePage = (GuestHomePage_GuestHomePage);\n// CONCATENATED MODULE: ./src/App.js\nvar Header=layout[\"a\" /* default */].Header,Content=layout[\"a\" /* default */].Content;//deconstruction，等效于 const Header = Layout.Haader\nvar App_App=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(App,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={authed:false,asHost:false};_this.handleLoginSuccess=function(token,asHost){localStorage.setItem(\"authToken\",token);localStorage.setItem(\"asHost\",asHost);_this.setState({authed:true,asHost:asHost});};_this.handleLogOut=function(){localStorage.removeItem(\"authToken\");localStorage.removeItem(\"asHost\");_this.setState({authed:false});};_this.renderContent=function(){if(!_this.state.authed){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_LoginPage,{handleLoginSuccess:_this.handleLoginSuccess});}if(_this.state.asHost){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_HostHomePage,{});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_GuestHomePage,{});};_this.userMenu=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{onClick:_this.handleLogOut,children:\"Log Out\"},\"logout\")});return _this;}Object(createClass[\"a\" /* default */])(App,[{key:\"componentDidMount\",value://coponentDidMount：app component的render函数执行完之后（一来到主页时），所做的事情\nfunction componentDidMount(){//log-in persistance\n// localStorage: 格式-map，可以persist数据\nvar authToken=localStorage.getItem(\"authToken\");var asHost=localStorage.getItem(\"asHost\")===\"true\";this.setState({authed:authToken!==null,asHost:asHost});}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(layout[\"a\" /* default */],{style:{height:\"100vh\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header,{style:{display:\"flex\",justifyContent:\"space-between\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{fontSize:24,fontWeight:600,color:\"white\"},children:\"DEMO: STAY RENTAL APPLICATION\"}),this.state.authed&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dropdown[\"a\" /* default */],{trigger:\"click\",overlay:this.userMenu,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{icon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserOutlined[\"a\" /* default */],{}),shape:\"circle\"})})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Content,{style:{height:\"calc(100% - 64px)\",margin:20,overflow:\"auto\"},children:this.renderContent()})]});}}]);return App;}(react_default.a.Component);/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 265)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[245,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/node_modules/postcss-loader/src/index.js??postcss!/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/src/index.css","/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/src/utils.js","/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/src/components/LoginPage.js","/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/src/components/UploadStay.js","/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/src/components/HostHomePage.js","/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/src/components/GuestHomePage.js","/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/src/App.js","/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/src/reportWebVitals.js","/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/src/index.js"],"names":["domain","login","credential","asHost","loginUrl","fetch","method","headers","body","JSON","stringify","then","response","status","Error","json","register","registerUrl","getReservations","authToken","localStorage","getItem","listReservationsUrl","Authorization","getStaysByHost","listStaysUrl","searchStays","query","searchStaysUrl","URL","searchParams","append","guest_number","checkin_date","format","checkout_date","deleteStay","stayId","deleteStayUrl","bookStay","data","bookStayUrl","cancelReservation","reservationId","cancelReservationUrl","getReservationsByStay","getReservationByStayUrl","uploadStay","uploadStayUrl","LoginPage","formRef","React","createRef","state","loading","onFinish","console","log","handleLogin","formInstance","current","validateFields","setState","getFieldsValue","resp","props","handleLoginSuccess","token","message","error","handleRegister","success","handleCheckboxOnChange","e","target","checked","width","margin","required","Component","layout","labelCol","span","wrapperCol","UploadStay","fileInputRef","handleSubmit","values","formData","FormData","files","length","i","name","address","description","maxWidth","minRows","maxRows","type","min","offset","Text","Typography","TabPane","Tabs","StayDetailInfoButton","modalVisible","openModal","handleCancel","stay","border","RemoveStayButton","handleRemoveStay","onRemoveSuccess","id","ReservationList","reservations","loadData","item","guest","username","ViewReservationsButton","modalTitle","MyStays","gutter","xs","sm","md","lg","xl","xxl","display","alignItems","images","map","image","index","url","HostHomePage","BookStayButton","handleBookStay","SearchStays","search","marginTop","CancelReservationButton","handleCancelReservation","onCancelSuccess","MyReservations","GuestHomePage","Header","Layout","Content","App","authed","setItem","handleLogOut","removeItem","renderContent","userMenu","height","justifyContent","fontSize","fontWeight","color","overflow","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","const domain = \"http://onyx-nexus-326722.de.r.appspot.com\";\n\n// body: JSON.stringify(credential) 将登陆信息转换成json格式的string\n\nexport const login = (credential, asHost) => {\n    const loginUrl = `${domain}/authenticate/${asHost ? \"host\" : \"guest\"}`;\n    return fetch(loginUrl, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(credential),\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to log in\");\n        }\n\n        return response.json();\n    });\n};\n\nexport const register = (credential, asHost) => {\n    const registerUrl = `${domain}/register/${asHost ? \"host\" : \"guest\"}`;\n    return fetch(registerUrl, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(credential),\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to register\");\n        }\n    });\n};\n\nexport const getReservations = () => {\n    //local storage 浏览器提供的object\n    const authToken = localStorage.getItem(\"authToken\");\n    const listReservationsUrl = `${domain}/reservations`;\n\n    return fetch(listReservationsUrl, {\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to get reservation list\");\n        }\n\n        return response.json();\n    });\n};\n// authz authorization:进入后是什么角色\n// authn authentication: 登陆\nexport const getStaysByHost = () => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const listStaysUrl = `${domain}/stays/`;\n\n    return fetch(listStaysUrl, {\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to get stay list\");\n        }\n\n        return response.json();\n    });\n};\n\nexport const searchStays = (query) => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const searchStaysUrl = new URL(`${domain}/search/`);\n    //统一后端格式\n    //如何往url上安全地增加query string的内容\n    //protocol://domain:port/path?querystring#hashtag\n    searchStaysUrl.searchParams.append(\"guest_number\", query.guest_number);\n    //format <DataPicker />所传的数据\n    searchStaysUrl.searchParams.append(\n        \"checkin_date\",\n        query.checkin_date.format(\"YYYY-MM-DD\")\n    );\n    searchStaysUrl.searchParams.append(\n        \"checkout_date\",\n        query.checkout_date.format(\"YYYY-MM-DD\")\n    );\n    searchStaysUrl.searchParams.append(\"lat\", 37);\n    searchStaysUrl.searchParams.append(\"lon\", -122);\n\n    return fetch(searchStaysUrl, {\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to search stays\");\n        }\n\n        return response.json();\n    });\n};\n\nexport const deleteStay = (stayId) => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const deleteStayUrl = `${domain}/stays/${stayId}`;\n\n    return fetch(deleteStayUrl, {\n        method: \"DELETE\",\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to delete stay\");\n        }\n    });\n};\n\nexport const bookStay = (data) => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const bookStayUrl = `${domain}/reservations`;\n\n    return fetch(bookStayUrl, {\n        method: \"POST\",\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to book reservation\");\n        }\n    });\n};\n\nexport const cancelReservation = (reservationId) => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const cancelReservationUrl = `${domain}/reservations/${reservationId}`;\n\n    return fetch(cancelReservationUrl, {\n        method: \"DELETE\",\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to cancel reservation\");\n        }\n    });\n};\n\nexport const getReservationsByStay = (stayId) => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const getReservationByStayUrl = `${domain}/stays/reservations/${stayId}`;\n\n    return fetch(getReservationByStayUrl, {\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to get reservations by stay\");\n        }\n\n        return response.json();\n    });\n};\n\nexport const uploadStay = (data) => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const uploadStayUrl = `${domain}/stays`;\n\n    return fetch(uploadStayUrl, {\n        method: \"POST\",\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n        body: data,\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to upload stay\");\n        }\n    });\n};\n","import React from \"react\";\nimport { Form, Button, Input, Space, Checkbox, message } from \"antd\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport { login, register } from \"../utils\";\n\nclass LoginPage extends React.Component {\n    //初始化formRef\n    formRef = React.createRef();\n    state = {\n        asHost: false,\n        loading: false,\n    };\n\n    onFinish = () => {\n        console.log(\"finish form\");\n    };\n\n    handleLogin = async () => {\n        const formInstance = this.formRef.current;\n\n        try {\n            await formInstance.validateFields();\n        } catch (error) {\n            return;\n        }\n\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            const { asHost } = this.state;\n            //formInstance.getFieldsValue(true)， 从当前instance取出值\n            const resp = await login(formInstance.getFieldsValue(true), asHost);\n            //登陆成功后，parent的component通过props做的事情\n            //记录token，确认一下authority是否是host\n            this.props.handleLoginSuccess(resp.token, asHost);\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n    handleRegister = async () => {\n        const formInstance = this.formRef.current;\n        //在前端中检查\n        try {\n            await formInstance.validateFields();\n        } catch (error) {\n            return;\n        }\n        //前端的validation通过\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            await register(formInstance.getFieldsValue(true), this.state.asHost);\n            message.success(\"Register Successfully\");\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n    handleCheckboxOnChange = (e) => {\n        this.setState({\n            asHost: e.target.checked,\n        });\n    };\n\n//onfish事件会在form提交时触发\n// 绑定formRef\n    render() {\n        return (\n            <div style={{ width: 500, margin: \"20px auto\" }}>\n                <Form ref={this.formRef} onFinish={this.onFinish}>\n                    <Form.Item\n                        name=\"username\"\n                        rules={[\n                            {\n                                required: true,\n                                message: \"Please input your Username!\",\n                            },\n                        ]}\n                    >\n                        <Input\n                            disabled={this.state.loading}\n                            prefix={<UserOutlined className=\"site-form-item-icon\" />}\n                            placeholder=\"Username\"\n                        />\n                    </Form.Item>\n                    <Form.Item\n                        name=\"password\"\n                        rules={[\n                            {\n                                required: true,\n                                message: \"Please input your Password!\",\n                            },\n                        ]}\n                    >\n                        <Input.Password\n                            disabled={this.state.loading}\n                            placeholder=\"Password\"\n                        />\n                    </Form.Item>\n                </Form>\n                <Space>\n                    <Checkbox\n                        disabled={this.state.loading}\n                        checked={this.state.asHost}\n                        onChange={this.handleCheckboxOnChange}\n                    >\n                        As Host\n                    </Checkbox>\n                    <Button\n                        onClick={this.handleLogin}\n                        disabled={this.state.loading}\n                        shape=\"round\"\n                        type=\"primary\"\n                    >\n                        Log in\n                    </Button>\n                    <Button\n                        onClick={this.handleRegister}\n                        disabled={this.state.loading}\n                        shape=\"round\"\n                        type=\"primary\"\n                    >\n                        Register\n                    </Button>\n                </Space>\n            </div>\n        );\n    }\n}\n\nexport default LoginPage;\n","import React from \"react\";\nimport { Form, Input, InputNumber, Button, message } from \"antd\";\nimport { uploadStay } from \"../utils\";\n\nconst layout = {\n    labelCol: { span: 8 },\n    wrapperCol: { span: 16 },\n};\n\nclass UploadStay extends React.Component {\n    state = {\n        loading: false,\n    };\n\n    fileInputRef = React.createRef();\n\n    handleSubmit = async (values) => {\n        const formData = new FormData();\n        const { files } = this.fileInputRef.current;\n\n       //检查是否传的文件超过五个\n        if (files.length > 5) {\n            message.error(\"You can at most upload 5 pictures.\");\n            return;\n        }\n\n        //将酒店图片append到form data上\n        for (let i = 0; i < files.length; i++) {\n            formData.append(\"images\", files[i]);\n        }\n\n        //将上传文件的用户信息append到form data上\n        formData.append(\"name\", values.name);\n        formData.append(\"address\", values.address);\n        formData.append(\"description\", values.description);\n        formData.append(\"guest_number\", values.guest_number);\n\n        this.setState({\n            loading: true,\n        });\n        try {\n            await uploadStay(formData);\n            message.success(\"upload successfully\");\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n    render() {\n        // {...layout} spread 语法，把layout这个object里的内容，\n        // 一对一对作为key value pair传入form\n        // <Form {...layout}></Form> 等价于 <Form lableCol = {} wrapper= {}> </From>\n\n        //name是property的名字，label是在ui上显示的字样\n        return (\n            <Form\n                {...layout}\n                name=\"nest-messages\"\n                onFinish={this.handleSubmit}\n                style={{ maxWidth: 1000, margin: \"auto\" }}\n            >\n                <Form.Item name=\"name\" label=\"Name\" rules={[{ required: true }]}>\n                    <Input />\n                </Form.Item>\n                <Form.Item name=\"address\" label=\"Address\" rules={[{ required: true }]}>\n                    <Input />\n                </Form.Item>\n                <Form.Item\n                    name=\"description\"\n                    label=\"Description\"\n                    rules={[{ required: true }]}\n                >\n                    <Input.TextArea autoSize={{ minRows: 2, maxRows: 6 }} />\n                </Form.Item>\n                <Form.Item\n                    name=\"guest_number\"\n                    label=\"Guest Number\"\n                    rules={[{ required: true, type: \"number\", min: 1 }]}\n                >\n                    <InputNumber />\n                </Form.Item>\n                {/*\n                  accept=\"image/png, image/jpeg\" 确定接受的文件格式\n                  */}\n                <Form.Item name=\"picture\" label=\"Picture\" rules={[{ required: true }]}>\n                    <input\n                        type=\"file\"\n                        accept=\"image/png, image/jpeg\"\n                        ref={this.fileInputRef}\n                        multiple={true}\n                    />\n                </Form.Item>\n                <Form.Item wrapperCol={{ ...layout.wrapperCol, offset: 8 }}>\n                    <Button type=\"primary\" htmlType=\"submit\" loading={this.state.loading}>\n                        Submit\n                    </Button>\n                </Form.Item>\n            </Form>\n        );\n    }\n}\n\nexport default UploadStay;\n","import React from \"react\";\nimport {\n    Tabs,\n    List,\n    Card,\n    message,\n    Typography,\n    Button,\n    Tooltip,\n    Modal,\n    Image,\n    Space,\n    Carousel,\n} from \"antd\";\nimport {\n    InfoCircleOutlined,\n    LeftCircleFilled,\n    RightCircleFilled,\n} from \"@ant-design/icons\";\nimport { deleteStay, getReservationsByStay, getStaysByHost } from \"../utils\";\nimport UploadStay from \"./UploadStay\";\n\nconst { Text } = Typography;\nconst { TabPane } = Tabs;\n\n\n\n//idea：将与主要功能不缠绕（互相有关系）的button重新分成一个component\nexport class StayDetailInfoButton extends React.Component {\n    state = {\n        modalVisible: false,\n    };\n\n    openModal = () => {\n        this.setState({\n            modalVisible: true,\n        });\n    };\n\n    //控制modal的状态\n    handleCancel = () => {\n        this.setState({\n            modalVisible: false,\n        });\n    };\n\n    render() {\n        const { stay } = this.props;\n        const { name, description, address, guest_number } = stay;\n        const { modalVisible } = this.state;\n        //name of 弹窗: modal\n        return (\n            <>\n                <Tooltip title=\"View Stay Details\">\n                    <Button\n                        onClick={this.openModal}\n                        style={{ border: \"none\" }}\n                        size=\"large\"\n                        icon={<InfoCircleOutlined />}\n                    />\n                </Tooltip>\n                {modalVisible && (\n                    <Modal\n                        title={name}\n                        centered={true}\n                        visible={modalVisible}\n                        closable={false}\n                        footer={null}\n                        onCancel={this.handleCancel}\n                    >\n                        <Space direction=\"vertical\">\n                            <Text strong={true}>Description</Text>\n                            <Text type=\"secondary\">{description}</Text>\n                            <Text strong={true}>Address</Text>\n                            <Text type=\"secondary\">{address}</Text>\n                            <Text strong={true}>Guest Number</Text>\n                            <Text type=\"secondary\">{guest_number}</Text>\n                        </Space>\n                    </Modal>\n                )}\n            </>\n        );\n    }\n}\n\nclass RemoveStayButton extends React.Component {\n    state = {\n        loading: false,\n    };\n\n    handleRemoveStay = async () => {\n        const { stay, onRemoveSuccess } = this.props;\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            await deleteStay(stay.id);\n            //删除后重新加载页面\n            onRemoveSuccess();\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n\n    render() {\n        return (\n            <Button\n                loading={this.state.loading}\n                onClick={this.handleRemoveStay}\n                danger={true}\n                shape=\"round\"\n                type=\"primary\"\n            >\n                Remove Stay\n            </Button>\n        );\n    }\n}\n\nclass ReservationList extends React.Component {\n    state = {\n        loading: false,\n        reservations: [],\n    };\n\n    componentDidMount() {\n        this.loadData();\n    }\n\n    loadData = async () => {\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            const resp = await getReservationsByStay(this.props.stayId);\n            this.setState({\n                reservations: resp,\n            });\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n    render() {\n        const { loading, reservations } = this.state;\n\n        return (\n            <List\n                loading={loading}\n                dataSource={reservations}\n                renderItem={(item) => (\n                    <List.Item>\n                        <List.Item.Meta\n                            title={<Text>Guest Name: {item.guest.username}</Text>}\n                            description={\n                                <>\n                                    <Text>Checkin Date: {item.checkin_date}</Text>\n                                    <br />\n                                    <Text>Checkout Date: {item.checkout_date}</Text>\n                                </>\n                            }\n                        />\n                    </List.Item>\n                )}\n            />\n        );\n    }\n}\n\nclass ViewReservationsButton extends React.Component {\n    state = {\n        modalVisible: false,\n    };\n\n    openModal = () => {\n        this.setState({\n            modalVisible: true,\n        });\n    };\n\n    handleCancel = () => {\n        this.setState({\n            modalVisible: false,\n        });\n    };\n\n    render() {\n        const { stay } = this.props;\n        const { modalVisible } = this.state;\n\n        // string template\n        const modalTitle = `Reservations of ${stay.name}`;\n\n        return (\n            <>\n                <Button onClick={this.openModal} shape=\"round\">\n                    View Reservations\n                </Button>\n                {modalVisible && (\n                    <Modal\n                        title={modalTitle}\n                        centered={true}\n                        visible={modalVisible}\n                        closable={false}\n                        footer={null}\n                        onCancel={this.handleCancel}\n                        destroyOnClose={true}\n                    >\n                        <ReservationList stayId={stay.id} />\n                    </Modal>\n                )}\n            </>\n        );\n    }\n}\n\nclass MyStays extends React.Component {\n    state = {\n        loading: false,\n        data: [],\n    };\n\n    componentDidMount() {\n        this.loadData();\n    }\n\n    //控制ui的 loading indication的显示\n    loadData = async () => {\n        const{ stay } = this.props;\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            const resp = await getStaysByHost();\n            this.setState({\n                data: resp,\n            });\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n    // grid = {{}}是一种props\n    // 凡是props不是string的，需要插入第一层{}表示不需要翻译， 而第二层{}则是js object\n    render() {\n        return (\n            <List\n                loading={this.state.loading}\n                grid={{\n                    gutter: 16,\n                    xs: 1,\n                    sm: 3,\n                    md: 3,\n                    lg: 3,\n                    xl: 4,\n                    xxl: 4,\n                }}\n                dataSource={this.state.data}\n                renderItem={(item) => (\n                    <List.Item>\n                        <Card\n                            key={item.id}\n                            title={\n                                <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                                    <Text ellipsis={true} style={{ maxWidth: 150 }}>\n                                        {item.name}\n                                    </Text>\n                                    <StayDetailInfoButton stay={item} />\n                                </div>\n                            }\n                            actions={[<ViewReservationsButton stay={item}/>]}\n                            extra={<RemoveStayButton stay={item}\n                                                     onRemoveSuccess={this.loadData} />}\n                        >\n                            {\n                                <Carousel\n                                    dots={false}\n                                    arrows={true}\n                                    prevArrow={<LeftCircleFilled />}\n                                    nextArrow={<RightCircleFilled />}\n                                >\n                                    {item.images.map((image, index) => (\n                                        <div key={index}>\n                                            <Image src={image.url} width=\"100%\" />\n                                        </div>\n                                    ))}\n                                </Carousel>\n                            }\n                        </Card>\n                    </List.Item>\n                )}\n            />\n        );\n    }\n}\n\nclass HostHomePage extends React.Component {\n    //destroyInactiveTabPane: delete inactive TabPlane on the DOM tree\n\n    render() {\n        return (\n            <Tabs defaultActiveKey=\"1\" destroyInactiveTabPane={true}>\n                <TabPane tab=\"My Stays\" key=\"1\">\n                    <MyStays />\n                </TabPane>\n                <TabPane tab=\"Upload Stay\" key=\"2\">\n                    <UploadStay />\n                </TabPane>\n            </Tabs>\n        );\n    }\n}\n\nexport default HostHomePage;","import React from \"react\";\nimport { Tabs, message, List, Typography, Button, Form,\n    DatePicker, InputNumber, Card, Carousel,\n    Image, Modal,} from \"antd\";\nimport {bookStay, cancelReservation,\n    getReservations, searchStays,} from \"../utils\";\nimport { StayDetailInfoButton } from \"../components/HostHomePage\";\nimport { LeftCircleFilled, RightCircleFilled } from \"@ant-design/icons\";\n\nconst { Text } = Typography;\nconst { TabPane } = Tabs;\n\nclass BookStayButton extends React.Component {\n    state = {\n        loading: false,\n        modalVisible: false,\n    };\n\n    handleCancel = () => {\n        this.setState({\n            modalVisible: false,\n        });\n    };\n\n    handleBookStay = () => {\n        this.setState({\n            modalVisible: true,\n        });\n    };\n\n    handleSubmit = async (values) => {\n        const { stay } = this.props;\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            await bookStay({\n                checkin_date: values.checkin_date.format(\"YYYY-MM-DD\"),\n                checkout_date: values.checkout_date.format(\"YYYY-MM-DD\"),\n                stay: {\n                    id: stay.id,\n                },\n            });\n            message.success(\"Successfully book stay\");\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n    render() {\n        const { stay } = this.props;\n        return (\n            <>\n                <Button onClick={this.handleBookStay} shape=\"round\" type=\"primary\">\n                    Book Stay\n                </Button>\n                <Modal\n                    destroyOnClose={true}\n                    title={stay.name}\n                    visible={this.state.modalVisible}\n                    footer={null}\n                    onCancel={this.handleCancel}\n                >\n                    <Form\n                        preserve={false}\n                        labelCol={{ span: 8 }}\n                        wrapperCol={{ span: 16 }}\n                        onFinish={this.handleSubmit}\n                    >\n                        <Form.Item\n                            label=\"Checkin Date\"\n                            name=\"checkin_date\"\n                            rules={[{ required: true }]}\n                        >\n                            <DatePicker />\n                        </Form.Item>\n                        <Form.Item\n                            label=\"Checkout Date\"\n                            name=\"checkout_date\"\n                            rules={[{ required: true }]}\n                        >\n                            <DatePicker />\n                        </Form.Item>\n                        <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\n                            <Button\n                                loading={this.state.loading}\n                                type=\"primary\"\n                                htmlType=\"submit\"\n                            >\n                                Book\n                            </Button>\n                        </Form.Item>\n                    </Form>\n                </Modal>\n            </>\n        );\n    }\n}\n\nclass SearchStays extends React.Component {\n    state = {\n        data: [],\n        loading: false,\n    };\n\n    search = async (query) => {\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            const resp = await searchStays(query);\n            this.setState({\n                data: resp,\n            });\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n    render() {\n        return (\n            <>\n                <Form onFinish={this.search} layout=\"inline\">\n                    <Form.Item\n                        label=\"Guest Number\"\n                        name=\"guest_number\"\n                        rules={[{ required: true }]}\n                    >\n                        <InputNumber min={1} />\n                    </Form.Item>\n\n                    <Form.Item\n                        label=\"Checkin Date\"\n                        name=\"checkin_date\"\n                        rules={[{ required: true }]}\n                    >\n                        <DatePicker />\n                    </Form.Item>\n\n                    <Form.Item\n                        label=\"Checkout Date\"\n                        name=\"checkout_date\"\n                        rules={[{ required: true }]}\n                    >\n                        <DatePicker />\n                    </Form.Item>\n\n\n                    <Form.Item>\n                        <Button\n                            loading={this.state.loading}\n                            type=\"primary\"\n                            htmlType=\"submit\"\n                        >\n                            Submit\n                        </Button>\n                    </Form.Item>\n\n                </Form>\n\n                {/*展示根据日期的搜索结果*/}\n                <List\n                    style={{ marginTop: 20 }}\n                    loading={this.state.loading}\n                    grid={{\n                        gutter: 16,\n                        xs: 1,\n                        sm: 3,\n                        md: 3,\n                        lg: 3,\n                        xl: 4,\n                        xxl: 4,\n                    }}\n                    dataSource={this.state.data}\n                    renderItem={(item) => (\n                        <List.Item>\n                            <Card\n                                key={item.id}\n                                title={\n                                    <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                                        <Text ellipsis={true} style={{ maxWidth: 150 }}>\n                                            {item.name}\n                                        </Text>\n                                        <StayDetailInfoButton stay={item} />\n                                    </div>\n                                }\n                                extra={<BookStayButton stay={item} />}\n                            >\n                                {\n                                    <Carousel\n                                        dots={false}\n                                        arrows={true}\n                                        prevArrow={<LeftCircleFilled />}\n                                        nextArrow={<RightCircleFilled />}\n                                    >\n                                        {item.images.map((image, index) => (\n                                            <div key={index}>\n                                                <Image src={image.url} width=\"100%\" />\n                                            </div>\n                                        ))}\n                                    </Carousel>\n                                }\n                            </Card>\n                        </List.Item>\n                    )}\n                />\n            </>\n        );\n    }\n}\n\nclass CancelReservationButton extends React.Component {\n    state = {\n        loading: false,\n    };\n\n    handleCancelReservation = async () => {\n        const { reservationId, onCancelSuccess } = this.props;\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            await cancelReservation(reservationId);\n            onCancelSuccess();\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n\n    };\n\n    render() {\n        return (\n            <Button\n                loading={this.state.loading}\n                onClick={this.handleCancelReservation}\n                danger={true}\n                shape=\"round\"\n                type=\"primary\"\n            >\n                Cancel Reservation\n            </Button>\n        );\n    }\n}\n\nclass MyReservations extends React.Component {\n    state = {\n        loading: false,\n        data: [],\n    };\n\n    componentDidMount() {\n        this.loadData();\n    }\n\n    loadData = async () => {\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            const resp = await getReservations();\n            this.setState({\n                data: resp,\n            });\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n    render() {\n        return (\n            <List\n                style={{ width: 1000, margin: \"auto\" }}\n                loading={this.state.loading}\n                dataSource={this.state.data}\n                renderItem={(item) => (\n                    <List.Item\n                        actions={[\n                            <CancelReservationButton\n                                reservationId={item.id}\n                                onCancelSuccess={() => this.loadData()}\n                            />,\n                        ]}\n                    >\n                        <List.Item.Meta\n                            title={<Text>{item.stay.name}</Text>}\n                            description={\n                                <>\n                                    <Text>Checkin Date: {item.checkin_date}</Text>\n                                    <br />\n                                    <Text>Checkout Date: {item.checkout_date}</Text>\n                                </>\n                            }\n                        />\n                    </List.Item>\n                )}\n            />\n        );\n    }\n}\n\nclass GuestHomePage extends React.Component {\n    render() {\n        return (\n            <Tabs defaultActiveKey=\"1\" destroyInactiveTabPane={true}>\n                <TabPane tab=\"Search Stays\" key=\"1\">\n                    <SearchStays />\n                </TabPane>\n                <TabPane tab=\"My Reservations\" key=\"2\">\n                    <MyReservations />\n                </TabPane>\n                ane 3\n            </Tabs>\n        );\n    }\n}\n\nexport default GuestHomePage;","import { Layout, Dropdown, Menu, Button } from \"antd\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport React from \"react\";\nimport LoginPage from \"./components/LoginPage\";\nimport HostHomePage from \"./components/HostHomePage\";\nimport GuestHomePage from \"./components/GuestHomePage\";\n\nconst { Header, Content } = Layout;\n//deconstruction，等效于 const Header = Layout.Haader\n\nclass App extends React.Component {\n  state = {\n    authed: false,\n    asHost: false,\n  };\n\n  //coponentDidMount：app component的render函数执行完之后（一来到主页时），所做的事情\n  componentDidMount() {\n    //log-in persistance\n    // localStorage: 格式-map，可以persist数据\n    const authToken = localStorage.getItem(\"authToken\");\n    const asHost = localStorage.getItem(\"asHost\") === \"true\";\n    this.setState({\n      authed: authToken !== null,\n      asHost,\n    });\n  }\n\n  handleLoginSuccess = (token, asHost) => {\n    localStorage.setItem(\"authToken\", token);\n    localStorage.setItem(\"asHost\", asHost);\n    this.setState({\n      authed: true,\n      asHost,\n    });\n  };\n\n  handleLogOut = () => {\n    localStorage.removeItem(\"authToken\");\n    localStorage.removeItem(\"asHost\");\n    this.setState({\n      authed: false,\n    });\n  };\n\n  //在外层定义content， 用于处理当content的逻辑复杂时，专门针对content的render函数\n  renderContent = () => {\n\n    if (!this.state.authed) {\n      return <LoginPage handleLoginSuccess={this.handleLoginSuccess} />;\n    }\n\n    if (this.state.asHost) {\n      return <HostHomePage />;\n    }\n\n    return <GuestHomePage />;\n  };\n\n  userMenu = (\n      <Menu>\n        <Menu.Item key=\"logout\" onClick={this.handleLogOut}>\n          Log Out\n        </Menu.Item>\n      </Menu>\n  );\n\n  render() {\n    return (\n        <Layout style={{ height: \"100vh\" }}>\n          <Header style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n            <div style={{ fontSize: 24, fontWeight: 600, color: \"white\" }}>\n              DEMO: STAY RENTAL APPLICATION\n            </div>\n            {this.state.authed && (\n                <div>\n                  <Dropdown trigger=\"click\" overlay={this.userMenu}>\n                    <Button icon={<UserOutlined />} shape=\"circle\" />\n                  </Dropdown>\n                </div>\n            )}\n          </Header>\n\n          <Content\n              style={{ height: \"calc(100% - 64px)\", margin: 20, overflow: \"auto\" }}\n          >\n            {this.renderContent()}\n          </Content>\n        </Layout>\n    );\n  }\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}