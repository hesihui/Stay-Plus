{"ast":null,"code":"var _jsxFileName = \"/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/src/components/HostHomePage.js\";\nimport React from \"react\";\nimport { Tabs, List, Card, message, Typography, Button, Tooltip, Modal, Image, Space, Carousel } from \"antd\";\nimport { InfoCircleOutlined, LeftCircleFilled, RightCircleFilled } from \"@ant-design/icons\";\nimport { deleteStay, getReservationsByStay, getStaysByHost } from \"../utils\"; // import UploadStay from \"./UploadStay\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Text\n} = Typography;\nconst {\n  TabPane\n} = Tabs; //idea：将与主要功能不缠绕（互相有关系）的button重新分成一个component\n\nexport class StayDetailInfoButton extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modalVisible: false\n    };\n\n    this.openModal = () => {\n      this.setState({\n        modalVisible: true\n      });\n    };\n\n    this.handleCancel = () => {\n      this.setState({\n        modalVisible: false\n      });\n    };\n  }\n\n  render() {\n    const {\n      stay\n    } = this.props;\n    const {\n      name,\n      description,\n      address,\n      guest_number\n    } = stay;\n    const {\n      modalVisible\n    } = this.state; //name of 弹窗: modal\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"View Stay Details\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.openModal,\n          style: {\n            border: \"none\"\n          },\n          size: \"large\",\n          icon: /*#__PURE__*/_jsxDEV(InfoCircleOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), modalVisible && /*#__PURE__*/_jsxDEV(Modal, {\n        title: name,\n        centered: true,\n        visible: modalVisible,\n        closable: false,\n        footer: null,\n        onCancel: this.handleCancel,\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          direction: \"vertical\",\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            strong: true,\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            type: \"secondary\",\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            strong: true,\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            type: \"secondary\",\n            children: address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            strong: true,\n            children: \"Guest Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            type: \"secondary\",\n            children: guest_number\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nclass RemoveStayButton extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false\n    };\n\n    this.handleRemoveStay = async () => {\n      const {\n        stay,\n        onRemoveSuccess\n      } = this.props;\n      this.setState({\n        loading: true\n      });\n\n      try {\n        await deleteStay(stay.id); //删除后重新加载页面\n\n        onRemoveSuccess();\n      } catch (error) {\n        message.error(error.message);\n      } finally {\n        this.setState({\n          loading: false\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Button, {\n      loading: this.state.loading,\n      onClick: this.handleRemoveStay,\n      danger: true,\n      shape: \"round\",\n      type: \"primary\",\n      children: \"Remove Stay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass MyStays extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      data: []\n    };\n\n    this.loadData = async () => {\n      const {\n        stay\n      } = this.props;\n      this.setState({\n        loading: true\n      });\n\n      try {\n        const resp = await getStaysByHost();\n        this.setState({\n          data: resp\n        });\n      } catch (error) {\n        message.error(error.message);\n      } finally {\n        this.setState({\n          loading: false\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  } //控制ui的 loading indication的显示\n\n\n  // grid = {{}}是一种props\n  // 凡是props不是string的，需要插入第一层{}表示不需要翻译， 而第二层{}则是js object\n  render() {\n    return /*#__PURE__*/_jsxDEV(List, {\n      loading: this.state.loading,\n      grid: {\n        gutter: 16,\n        xs: 1,\n        sm: 3,\n        md: 3,\n        lg: 3,\n        xl: 4,\n        xxl: 4\n      },\n      dataSource: this.state.data,\n      renderItem: item => /*#__PURE__*/_jsxDEV(List.Item, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          title: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              ellipsis: true,\n              style: {\n                maxWidth: 150\n              },\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(StayDetailInfoButton, {\n              stay: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 33\n          }, this),\n          actions: [],\n          extra: /*#__PURE__*/_jsxDEV(RemoveStayButton, {\n            stay: item,\n            onRemoveSuccess: this.loadData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 36\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Carousel, {\n            dots: false,\n            arrows: true,\n            prevArrow: /*#__PURE__*/_jsxDEV(LeftCircleFilled, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 48\n            }, this),\n            nextArrow: /*#__PURE__*/_jsxDEV(RightCircleFilled, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 48\n            }, this),\n            children: item.images.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Image, {\n                src: image.url,\n                width: \"100%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 45\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 33\n          }, this)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass HostHomePage extends React.Component {\n  //destroyInactiveTabPane: delete inactive TabPlane on the DOM tree\n  render() {\n    return /*#__PURE__*/_jsxDEV(Tabs, {\n      defaultActiveKey: \"1\",\n      destroyInactiveTabPane: true,\n      children: [/*#__PURE__*/_jsxDEV(TabPane, {\n        tab: \"My Stays\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"My Stays Content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(MyStays, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this)]\n      }, \"1\", true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TabPane, {\n        tab: \"Upload Stay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Upload Stays\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }, this)\n      }, \"2\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default HostHomePage;","map":{"version":3,"sources":["/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/src/components/HostHomePage.js"],"names":["React","Tabs","List","Card","message","Typography","Button","Tooltip","Modal","Image","Space","Carousel","InfoCircleOutlined","LeftCircleFilled","RightCircleFilled","deleteStay","getReservationsByStay","getStaysByHost","Text","TabPane","StayDetailInfoButton","Component","state","modalVisible","openModal","setState","handleCancel","render","stay","props","name","description","address","guest_number","border","RemoveStayButton","loading","handleRemoveStay","onRemoveSuccess","id","error","MyStays","data","loadData","resp","componentDidMount","gutter","xs","sm","md","lg","xl","xxl","item","display","alignItems","maxWidth","images","map","image","index","url","HostHomePage"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n    Tabs,\n    List,\n    Card,\n    message,\n    Typography,\n    Button,\n    Tooltip,\n    Modal,\n    Image,\n    Space,\n    Carousel,\n} from \"antd\";\nimport {\n    InfoCircleOutlined,\n    LeftCircleFilled,\n    RightCircleFilled,\n} from \"@ant-design/icons\";\nimport { deleteStay, getReservationsByStay, getStaysByHost } from \"../utils\";\n// import UploadStay from \"./UploadStay\";\n\nconst { Text } = Typography;\nconst { TabPane } = Tabs;\n\n\n\n//idea：将与主要功能不缠绕（互相有关系）的button重新分成一个component\nexport class StayDetailInfoButton extends React.Component {\n    state = {\n        modalVisible: false,\n    };\n\n    openModal = () => {\n        this.setState({\n            modalVisible: true,\n        });\n    };\n\n    //控制modal的状态\n    handleCancel = () => {\n        this.setState({\n            modalVisible: false,\n        });\n    };\n\n    render() {\n        const { stay } = this.props;\n        const { name, description, address, guest_number } = stay;\n        const { modalVisible } = this.state;\n        //name of 弹窗: modal\n        return (\n            <>\n                <Tooltip title=\"View Stay Details\">\n                    <Button\n                        onClick={this.openModal}\n                        style={{ border: \"none\" }}\n                        size=\"large\"\n                        icon={<InfoCircleOutlined />}\n                    />\n                </Tooltip>\n                {modalVisible && (\n                    <Modal\n                        title={name}\n                        centered={true}\n                        visible={modalVisible}\n                        closable={false}\n                        footer={null}\n                        onCancel={this.handleCancel}\n                    >\n                        <Space direction=\"vertical\">\n                            <Text strong={true}>Description</Text>\n                            <Text type=\"secondary\">{description}</Text>\n                            <Text strong={true}>Address</Text>\n                            <Text type=\"secondary\">{address}</Text>\n                            <Text strong={true}>Guest Number</Text>\n                            <Text type=\"secondary\">{guest_number}</Text>\n                        </Space>\n                    </Modal>\n                )}\n            </>\n        );\n    }\n}\n\nclass RemoveStayButton extends React.Component {\n    state = {\n        loading: false,\n    };\n\n    handleRemoveStay = async () => {\n        const { stay, onRemoveSuccess } = this.props;\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            await deleteStay(stay.id);\n            //删除后重新加载页面\n            onRemoveSuccess();\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n\n    render() {\n        return (\n            <Button\n                loading={this.state.loading}\n                onClick={this.handleRemoveStay}\n                danger={true}\n                shape=\"round\"\n                type=\"primary\"\n            >\n                Remove Stay\n            </Button>\n        );\n    }\n}\n\n\n\n\nclass MyStays extends React.Component {\n    state = {\n        loading: false,\n        data: [],\n    };\n\n    componentDidMount() {\n        this.loadData();\n    }\n\n    //控制ui的 loading indication的显示\n    loadData = async () => {\n        const{ stay } = this.props;\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            const resp = await getStaysByHost();\n            this.setState({\n                data: resp,\n            });\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n    // grid = {{}}是一种props\n    // 凡是props不是string的，需要插入第一层{}表示不需要翻译， 而第二层{}则是js object\n    render() {\n        return (\n            <List\n                loading={this.state.loading}\n                grid={{\n                    gutter: 16,\n                    xs: 1,\n                    sm: 3,\n                    md: 3,\n                    lg: 3,\n                    xl: 4,\n                    xxl: 4,\n                }}\n                dataSource={this.state.data}\n                renderItem={(item) => (\n                    <List.Item>\n                        <Card\n                            key={item.id}\n                            title={\n                                <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                                    <Text ellipsis={true} style={{ maxWidth: 150 }}>\n                                        {item.name}\n                                    </Text>\n                                    <StayDetailInfoButton stay={item} />\n                                </div>\n                            }\n                            actions={[]}\n                            extra={<RemoveStayButton stay={item}\n                                                     onRemoveSuccess={this.loadData} />}\n                        >\n                            {\n                                <Carousel\n                                    dots={false}\n                                    arrows={true}\n                                    prevArrow={<LeftCircleFilled />}\n                                    nextArrow={<RightCircleFilled />}\n                                >\n                                    {item.images.map((image, index) => (\n                                        <div key={index}>\n                                            <Image src={image.url} width=\"100%\" />\n                                        </div>\n                                    ))}\n                                </Carousel>\n                            }\n                        </Card>\n                    </List.Item>\n                )}\n            />\n        );\n    }\n}\n\nclass HostHomePage extends React.Component {\n    //destroyInactiveTabPane: delete inactive TabPlane on the DOM tree\n\n    render() {\n        return (\n            <Tabs defaultActiveKey=\"1\" destroyInactiveTabPane={true}>\n                <TabPane tab=\"My Stays\" key=\"1\">\n                    <div>My Stays Content</div>\n                    <MyStays />\n                </TabPane>\n                <TabPane tab=\"Upload Stay\" key=\"2\">\n                    <div>Upload Stays</div>\n                </TabPane>\n            </Tabs>\n        );\n    }\n}\n\nexport default HostHomePage;"]},"metadata":{},"sourceType":"module"}