{"ast":null,"code":"// import React from \"react\";\n// import { Form, Input, InputNumber, Button, message } from \"antd\";\n// import { uploadStay } from \"../utils\";\n// import LoginPage from \"./LoginPage\";\n//\n// const layout = {\n//     labelCol: { span: 8 },\n//     wrapperCol: { span: 16 },\n// }\n// class UploadStay extends React.Component {\n//     state = {\n//       loading: false,\n//     };\n//\n//     fileInputRef = React.createRef();\n//\n//     handleSubmit = async(values) => {\n//         const formData = new FormData();\n//         const { files } = this.fileInputRef.current;\n//         //检查是否传的文件超过五个\n//         if (files.length > 5) {\n//             message.error(\"You can at most upload 5 pictures.\");\n//             return;\n//         }\n//\n//         //将文件append到form data上\n//         for(let i = 0; i < files.length; i++) {\n//             formData.append(\"images\", files[i]);\n//         }\n//\n//         //将上传文件的用户信息append到form data上\n//         formData.append(\"name\", values.name);\n//         formData.append(\"address\", values.address);\n//         formData.append(\"description\", values.description);\n//         formData.append(\"guest_number\", values.guest_number);\n//\n//         this.setState({\n//             loading:true,\n//         })\n//\n//         try {\n//            //await uploadStay(formData);\n//             message.success(\"upload successfully\");\n//         } catch (error) {\n//             message.error(error.message);\n//         } finally {\n//             this.setState({\n//                 loading: false,\n//             });\n//         }\n//\n//     };\n//\n//     render() {\n//         // {...layout} spread 语法，把layout这个object里的内容，\n//         // 一对一对作为key value pair传入form\n//         // <Form {...layout}></Form> 等价于 <Form lableCol = {} wrapper= {}> </From>\n//\n//         //name是property的名字，label是在ui上显示的字样\n//         return (\n//             <Form\n//                 {...layout}\n//                 name=\"nest-messages\"\n//                 onFinish={this.handleSubmit}\n//                 style={{ maxWidth: 1000, margin: \"auto\" }}\n//             >\n//                 <Form.Item name=\"name\" label=\"Name\" rules={[{ required: true }]}>\n//                     <Input />\n//                 </Form.Item>\n//\n//                 <Form.Item name=\"address\" label=\"Address\" rules={[{ required: true }]}>\n//                     <Input />\n//                 </Form.Item>\n//\n//                 <Form.Item\n//                     name=\"description\"\n//                     label=\"Description\"\n//                     rules={[{ required: true }]}\n//                 >\n//                     <Input.TextArea autoSize={{ minRows: 2, maxRows: 6 }} />\n//                 </Form.Item>\n//\n//                 <Form.Item\n//                     name=\"guest_number\"\n//                     label=\"Guest Number\"\n//                     rules={[{ required: true, type: \"number\", min: 1 }]}\n//                 >\n//                     <InputNumber />\n//                 </Form.Item>\n//\n//                 {/*\n//                  accept=\"image/png, image/jpeg\" 确定接受的文件格式\n//                 */}\n//                 <Form.Item name=\"picture\" label=\"Picture\" rules={[{ required: true }]}>\n//                     <input\n//                         type=\"file\"\n//                         accept=\"image/png, image/jpeg\"\n//                         ref={this.fileInputRef}\n//                         multiple={true}\n//                     />\n//                 </Form.Item>\n//\n//                 <Form.Item wrapperCol={{ ...layout.wrapperCol, offset: 8 }}>\n//                     <Button type=\"primary\" htmlType=\"submit\" loading={this.state.loading}>\n//                         Submit\n//                     </Button>\n//                 </Form.Item>\n//             </Form>\n//         );\n//     }\n// }\n//\n// export default UploadStay;","map":{"version":3,"sources":["/Users/sihui/Documents/SDE_Learning/staybooking-app/staybooking-app/src/components/UploadStay.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["// import React from \"react\";\n// import { Form, Input, InputNumber, Button, message } from \"antd\";\n// import { uploadStay } from \"../utils\";\n// import LoginPage from \"./LoginPage\";\n//\n// const layout = {\n//     labelCol: { span: 8 },\n//     wrapperCol: { span: 16 },\n// }\n// class UploadStay extends React.Component {\n//     state = {\n//       loading: false,\n//     };\n//\n//     fileInputRef = React.createRef();\n//\n//     handleSubmit = async(values) => {\n//         const formData = new FormData();\n//         const { files } = this.fileInputRef.current;\n//         //检查是否传的文件超过五个\n//         if (files.length > 5) {\n//             message.error(\"You can at most upload 5 pictures.\");\n//             return;\n//         }\n//\n//         //将文件append到form data上\n//         for(let i = 0; i < files.length; i++) {\n//             formData.append(\"images\", files[i]);\n//         }\n//\n//         //将上传文件的用户信息append到form data上\n//         formData.append(\"name\", values.name);\n//         formData.append(\"address\", values.address);\n//         formData.append(\"description\", values.description);\n//         formData.append(\"guest_number\", values.guest_number);\n//\n//         this.setState({\n//             loading:true,\n//         })\n//\n//         try {\n//            //await uploadStay(formData);\n//             message.success(\"upload successfully\");\n//         } catch (error) {\n//             message.error(error.message);\n//         } finally {\n//             this.setState({\n//                 loading: false,\n//             });\n//         }\n//\n//     };\n//\n//     render() {\n//         // {...layout} spread 语法，把layout这个object里的内容，\n//         // 一对一对作为key value pair传入form\n//         // <Form {...layout}></Form> 等价于 <Form lableCol = {} wrapper= {}> </From>\n//\n//         //name是property的名字，label是在ui上显示的字样\n//         return (\n//             <Form\n//                 {...layout}\n//                 name=\"nest-messages\"\n//                 onFinish={this.handleSubmit}\n//                 style={{ maxWidth: 1000, margin: \"auto\" }}\n//             >\n//                 <Form.Item name=\"name\" label=\"Name\" rules={[{ required: true }]}>\n//                     <Input />\n//                 </Form.Item>\n//\n//                 <Form.Item name=\"address\" label=\"Address\" rules={[{ required: true }]}>\n//                     <Input />\n//                 </Form.Item>\n//\n//                 <Form.Item\n//                     name=\"description\"\n//                     label=\"Description\"\n//                     rules={[{ required: true }]}\n//                 >\n//                     <Input.TextArea autoSize={{ minRows: 2, maxRows: 6 }} />\n//                 </Form.Item>\n//\n//                 <Form.Item\n//                     name=\"guest_number\"\n//                     label=\"Guest Number\"\n//                     rules={[{ required: true, type: \"number\", min: 1 }]}\n//                 >\n//                     <InputNumber />\n//                 </Form.Item>\n//\n//                 {/*\n//                  accept=\"image/png, image/jpeg\" 确定接受的文件格式\n//                 */}\n//                 <Form.Item name=\"picture\" label=\"Picture\" rules={[{ required: true }]}>\n//                     <input\n//                         type=\"file\"\n//                         accept=\"image/png, image/jpeg\"\n//                         ref={this.fileInputRef}\n//                         multiple={true}\n//                     />\n//                 </Form.Item>\n//\n//                 <Form.Item wrapperCol={{ ...layout.wrapperCol, offset: 8 }}>\n//                     <Button type=\"primary\" htmlType=\"submit\" loading={this.state.loading}>\n//                         Submit\n//                     </Button>\n//                 </Form.Item>\n//             </Form>\n//         );\n//     }\n// }\n//\n// export default UploadStay;"]},"metadata":{},"sourceType":"module"}