(this["webpackJsonpstaybooking-app"]=this["webpackJsonpstaybooking-app"]||[]).push([[0],{167:function(e,t,a){},245:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(27),c=a.n(s),i=(a(167),a(30)),o=a(31),l=a(33),u=a(32),d=a(247),h=a(259),j=a(260),b=a(46),p=a(262),f=a(26),m=a.n(f),O=a(41),x=a(159),g=a(250),v=a(256),y=a(261),k=a(258),S="http://onyx-nexus-326722.de.r.appspot.com",w=function(e,t){var a="".concat(S,"/authenticate/").concat(t?"host":"guest");return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(200!==e.status)throw Error("Fail to log in");return e.json()}))},C=function(e,t){var a="".concat(S,"/register/").concat(t?"host":"guest");return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(200!==e.status)throw Error("Fail to register")}))},I=function(){var e=localStorage.getItem("authToken"),t="".concat(S,"/reservations");return fetch(t,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){if(200!==e.status)throw Error("Fail to get reservation list");return e.json()}))},D=function(){var e=localStorage.getItem("authToken"),t="".concat(S,"/stays/");return fetch(t,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){if(200!==e.status)throw Error("Fail to get stay list");return e.json()}))},T=function(e){var t=localStorage.getItem("authToken"),a=new URL("".concat(S,"/search/"));return a.searchParams.append("guest_number",e.guest_number),a.searchParams.append("checkin_date",e.checkin_date.format("YYYY-MM-DD")),a.searchParams.append("checkout_date",e.checkout_date.format("YYYY-MM-DD")),a.searchParams.append("lat",37),a.searchParams.append("lon",-122),fetch(a,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){if(200!==e.status)throw Error("Fail to search stays");return e.json()}))},A=function(e){var t=localStorage.getItem("authToken"),a="".concat(S,"/stays/").concat(e);return fetch(a,{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){if(200!==e.status)throw Error("Fail to delete stay")}))},F=function(e){var t=localStorage.getItem("authToken"),a="".concat(S,"/reservations");return fetch(a,{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(200!==e.status)throw Error("Fail to book reservation")}))},R=function(e){var t=localStorage.getItem("authToken"),a="".concat(S,"/reservations/").concat(e);return fetch(a,{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){if(200!==e.status)throw Error("Fail to cancel reservation")}))},M=function(e){var t=localStorage.getItem("authToken"),a="".concat(S,"/stays/reservations/").concat(e);return fetch(a,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){if(200!==e.status)throw Error("Fail to get reservations by stay");return e.json()}))},P=function(e){var t=localStorage.getItem("authToken"),a="".concat(S,"/stays");return fetch(a,{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:e}).then((function(e){if(200!==e.status)throw Error("Fail to upload stay")}))},_=a(6),E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).formRef=r.a.createRef(),e.state={asHost:!1,loading:!1},e.onFinish=function(){console.log("finish form")},e.handleLogin=Object(O.a)(m.a.mark((function t(){var a,n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formRef.current,t.prev=1,t.next=4,a.validateFields();case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return");case 9:return e.setState({loading:!0}),t.prev=10,n=e.state.asHost,t.next=14,w(a.getFieldsValue(!0),n);case 14:r=t.sent,e.props.handleLoginSuccess(r.token,n),t.next=21;break;case 18:t.prev=18,t.t1=t.catch(10),x.b.error(t.t1.message);case 21:return t.prev=21,e.setState({loading:!1}),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[1,6],[10,18,21,24]])}))),e.handleRegister=Object(O.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formRef.current,t.prev=1,t.next=4,a.validateFields();case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return");case 9:return e.setState({loading:!0}),t.prev=10,t.next=13,C(a.getFieldsValue(!0),e.state.asHost);case 13:x.b.success("Register Successfully"),t.next=19;break;case 16:t.prev=16,t.t1=t.catch(10),x.b.error(t.t1.message);case 19:return t.prev=19,e.setState({loading:!1}),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[1,6],[10,16,19,22]])}))),e.handleCheckboxOnChange=function(t){e.setState({asHost:t.target.checked})},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(_.jsxs)("div",{style:{width:500,margin:"20px auto"},children:[Object(_.jsxs)(g.a,{ref:this.formRef,onFinish:this.onFinish,children:[Object(_.jsx)(g.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(_.jsx)(v.a,{disabled:this.state.loading,prefix:Object(_.jsx)(p.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(_.jsx)(g.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(_.jsx)(v.a.Password,{disabled:this.state.loading,placeholder:"Password"})})]}),Object(_.jsxs)(y.b,{children:[Object(_.jsx)(k.a,{disabled:this.state.loading,checked:this.state.asHost,onChange:this.handleCheckboxOnChange,children:"As Host"}),Object(_.jsx)(b.a,{onClick:this.handleLogin,disabled:this.state.loading,shape:"round",type:"primary",children:"Log in"}),Object(_.jsx)(b.a,{onClick:this.handleRegister,disabled:this.state.loading,shape:"round",type:"primary",children:"Register"})]})]})}}]),a}(r.a.Component),Y=E,L=a(252),V=a(140),B=a(66),H=a(255),q=a(249),z=a(257),N=a(254),J=a(251),G=a(123),U=a(263),W=a(264),K=a(91),Q=a(253),X={labelCol:{span:8},wrapperCol:{span:16}},Z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={loading:!1},e.fileInputRef=r.a.createRef(),e.handleSubmit=function(){var t=Object(O.a)(m.a.mark((function t(a){var n,r,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new FormData,!((r=e.fileInputRef.current.files).length>5)){t.next=5;break}return x.b.error("You can at most upload 5 pictures."),t.abrupt("return");case 5:for(s=0;s<r.length;s++)n.append("images",r[s]);return n.append("name",a.name),n.append("address",a.address),n.append("description",a.description),n.append("guest_number",a.guest_number),e.setState({loading:!0}),t.prev=11,t.next=14,P(n);case 14:x.b.success("upload successfully"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(11),x.b.error(t.t0.message);case 20:return t.prev=20,e.setState({loading:!1}),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[11,17,20,23]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){return Object(_.jsxs)(g.a,Object(K.a)(Object(K.a)({},X),{},{name:"nest-messages",onFinish:this.handleSubmit,style:{maxWidth:1e3,margin:"auto"},children:[Object(_.jsx)(g.a.Item,{name:"name",label:"Name",rules:[{required:!0}],children:Object(_.jsx)(v.a,{})}),Object(_.jsx)(g.a.Item,{name:"address",label:"Address",rules:[{required:!0}],children:Object(_.jsx)(v.a,{})}),Object(_.jsx)(g.a.Item,{name:"description",label:"Description",rules:[{required:!0}],children:Object(_.jsx)(v.a.TextArea,{autoSize:{minRows:2,maxRows:6}})}),Object(_.jsx)(g.a.Item,{name:"guest_number",label:"Guest Number",rules:[{required:!0,type:"number",min:1}],children:Object(_.jsx)(Q.a,{})}),Object(_.jsx)(g.a.Item,{name:"picture",label:"Picture",rules:[{required:!0}],children:Object(_.jsx)("input",{type:"file",accept:"image/png, image/jpeg",ref:this.fileInputRef,multiple:!0})}),Object(_.jsx)(g.a.Item,{wrapperCol:Object(K.a)(Object(K.a)({},X.wrapperCol),{},{offset:8}),children:Object(_.jsx)(b.a,{type:"primary",htmlType:"submit",loading:this.state.loading,children:"Submit"})})]}))}}]),a}(r.a.Component),$=Z,ee=L.a.Text,te=V.a.TabPane,ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modalVisible:!1},e.openModal=function(){e.setState({modalVisible:!0})},e.handleCancel=function(){e.setState({modalVisible:!1})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.stay,t=e.name,a=e.description,n=e.address,r=e.guest_number,s=this.state.modalVisible;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(B.a,{title:"View Stay Details",children:Object(_.jsx)(b.a,{onClick:this.openModal,style:{border:"none"},size:"large",icon:Object(_.jsx)(G.a,{})})}),s&&Object(_.jsx)(H.a,{title:t,centered:!0,visible:s,closable:!1,footer:null,onCancel:this.handleCancel,children:Object(_.jsxs)(y.b,{direction:"vertical",children:[Object(_.jsx)(ee,{strong:!0,children:"Description"}),Object(_.jsx)(ee,{type:"secondary",children:a}),Object(_.jsx)(ee,{strong:!0,children:"Address"}),Object(_.jsx)(ee,{type:"secondary",children:n}),Object(_.jsx)(ee,{strong:!0,children:"Guest Number"}),Object(_.jsx)(ee,{type:"secondary",children:r})]})})]})}}]),a}(r.a.Component),ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e.handleRemoveStay=Object(O.a)(m.a.mark((function t(){var a,n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,n=a.stay,r=a.onRemoveSuccess,e.setState({loading:!0}),t.prev=2,t.next=5,A(n.id);case 5:r(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),x.b.error(t.t0.message);case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])}))),e}return Object(o.a)(a,[{key:"render",value:function(){return Object(_.jsx)(b.a,{loading:this.state.loading,onClick:this.handleRemoveStay,danger:!0,shape:"round",type:"primary",children:"Remove Stay"})}}]),a}(r.a.Component),re=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,reservations:[]},e.loadData=Object(O.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,M(e.props.stayId);case 4:a=t.sent,e.setState({reservations:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),x.b.error(t.t0.message);case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])}))),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.reservations;return Object(_.jsx)(q.b,{loading:t,dataSource:a,renderItem:function(e){return Object(_.jsx)(q.b.Item,{children:Object(_.jsx)(q.b.Item.Meta,{title:Object(_.jsxs)(ee,{children:["Guest Name: ",e.guest.username]}),description:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(ee,{children:["Checkin Date: ",e.checkin_date]}),Object(_.jsx)("br",{}),Object(_.jsxs)(ee,{children:["Checkout Date: ",e.checkout_date]})]})})})}})}}]),a}(r.a.Component),se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modalVisible:!1},e.openModal=function(){e.setState({modalVisible:!0})},e.handleCancel=function(){e.setState({modalVisible:!1})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.stay,t=this.state.modalVisible,a="Reservations of ".concat(e.name);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(b.a,{onClick:this.openModal,shape:"round",children:"View Reservations"}),t&&Object(_.jsx)(H.a,{title:a,centered:!0,visible:t,closable:!1,footer:null,onCancel:this.handleCancel,destroyOnClose:!0,children:Object(_.jsx)(re,{stayId:e.id})})]})}}]),a}(r.a.Component),ce=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,data:[]},e.loadData=Object(O.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.stay,e.setState({loading:!0}),t.prev=2,t.next=5,D();case 5:a=t.sent,e.setState({data:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),x.b.error(t.t0.message);case 12:return t.prev=12,e.setState({loading:!1}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])}))),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this;return Object(_.jsx)(q.b,{loading:this.state.loading,grid:{gutter:16,xs:1,sm:3,md:3,lg:3,xl:4,xxl:4},dataSource:this.state.data,renderItem:function(t){return Object(_.jsx)(q.b.Item,{children:Object(_.jsx)(z.a,{title:Object(_.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(_.jsx)(ee,{ellipsis:!0,style:{maxWidth:150},children:t.name}),Object(_.jsx)(ae,{stay:t})]}),actions:[Object(_.jsx)(se,{stay:t})],extra:Object(_.jsx)(ne,{stay:t,onRemoveSuccess:e.loadData}),children:Object(_.jsx)(N.a,{dots:!1,arrows:!0,prevArrow:Object(_.jsx)(U.a,{}),nextArrow:Object(_.jsx)(W.a,{}),children:t.images.map((function(e,t){return Object(_.jsx)("div",{children:Object(_.jsx)(J.a,{src:e.url,width:"100%"})},t)}))})},t.id)})}})}}]),a}(r.a.Component),ie=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(_.jsxs)(V.a,{defaultActiveKey:"1",destroyInactiveTabPane:!0,children:[Object(_.jsx)(te,{tab:"My Stays",children:Object(_.jsx)(ce,{})},"1"),Object(_.jsx)(te,{tab:"Upload Stay",children:Object(_.jsx)($,{})},"2")]})}}]),a}(r.a.Component),oe=ie,le=a(248),ue=L.a.Text,de=V.a.TabPane,he=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,modalVisible:!1},e.handleCancel=function(){e.setState({modalVisible:!1})},e.handleBookStay=function(){e.setState({modalVisible:!0})},e.handleSubmit=function(){var t=Object(O.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.stay,e.setState({loading:!0}),t.prev=2,t.next=5,F({checkin_date:a.checkin_date.format("YYYY-MM-DD"),checkout_date:a.checkout_date.format("YYYY-MM-DD"),stay:{id:n.id}});case 5:x.b.success("Successfully book stay"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),x.b.error(t.t0.message);case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.stay;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(b.a,{onClick:this.handleBookStay,shape:"round",type:"primary",children:"Book Stay"}),Object(_.jsx)(H.a,{destroyOnClose:!0,title:e.name,visible:this.state.modalVisible,footer:null,onCancel:this.handleCancel,children:Object(_.jsxs)(g.a,{preserve:!1,labelCol:{span:8},wrapperCol:{span:16},onFinish:this.handleSubmit,children:[Object(_.jsx)(g.a.Item,{label:"Checkin Date",name:"checkin_date",rules:[{required:!0}],children:Object(_.jsx)(le.a,{})}),Object(_.jsx)(g.a.Item,{label:"Checkout Date",name:"checkout_date",rules:[{required:!0}],children:Object(_.jsx)(le.a,{})}),Object(_.jsx)(g.a.Item,{wrapperCol:{offset:8,span:16},children:Object(_.jsx)(b.a,{loading:this.state.loading,type:"primary",htmlType:"submit",children:"Book"})})]})})]})}}]),a}(r.a.Component),je=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:[],loading:!1},e.search=function(){var t=Object(O.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,T(a);case 4:n=t.sent,e.setState({data:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),x.b.error(t.t0.message);case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(g.a,{onFinish:this.search,layout:"inline",children:[Object(_.jsx)(g.a.Item,{label:"Guest Number",name:"guest_number",rules:[{required:!0}],children:Object(_.jsx)(Q.a,{min:1})}),Object(_.jsx)(g.a.Item,{label:"Checkin Date",name:"checkin_date",rules:[{required:!0}],children:Object(_.jsx)(le.a,{})}),Object(_.jsx)(g.a.Item,{label:"Checkout Date",name:"checkout_date",rules:[{required:!0}],children:Object(_.jsx)(le.a,{})}),Object(_.jsx)(g.a.Item,{children:Object(_.jsx)(b.a,{loading:this.state.loading,type:"primary",htmlType:"submit",children:"Submit"})})]}),Object(_.jsx)(q.b,{style:{marginTop:20},loading:this.state.loading,grid:{gutter:16,xs:1,sm:3,md:3,lg:3,xl:4,xxl:4},dataSource:this.state.data,renderItem:function(e){return Object(_.jsx)(q.b.Item,{children:Object(_.jsx)(z.a,{title:Object(_.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(_.jsx)(ue,{ellipsis:!0,style:{maxWidth:150},children:e.name}),Object(_.jsx)(ae,{stay:e})]}),extra:Object(_.jsx)(he,{stay:e}),children:Object(_.jsx)(N.a,{dots:!1,arrows:!0,prevArrow:Object(_.jsx)(U.a,{}),nextArrow:Object(_.jsx)(W.a,{}),children:e.images.map((function(e,t){return Object(_.jsx)("div",{children:Object(_.jsx)(J.a,{src:e.url,width:"100%"})},t)}))})},e.id)})}})]})}}]),a}(r.a.Component),be=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e.handleCancelReservation=Object(O.a)(m.a.mark((function t(){var a,n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,n=a.reservationId,r=a.onCancelSuccess,e.setState({loading:!0}),t.prev=2,t.next=5,R(n);case 5:r(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),x.b.error(t.t0.message);case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])}))),e}return Object(o.a)(a,[{key:"render",value:function(){return Object(_.jsx)(b.a,{loading:this.state.loading,onClick:this.handleCancelReservation,danger:!0,shape:"round",type:"primary",children:"Cancel Reservation"})}}]),a}(r.a.Component),pe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,data:[]},e.loadData=Object(O.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,I();case 4:a=t.sent,e.setState({data:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),x.b.error(t.t0.message);case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])}))),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this;return Object(_.jsx)(q.b,{style:{width:1e3,margin:"auto"},loading:this.state.loading,dataSource:this.state.data,renderItem:function(t){return Object(_.jsx)(q.b.Item,{actions:[Object(_.jsx)(be,{reservationId:t.id,onCancelSuccess:function(){return e.loadData()}})],children:Object(_.jsx)(q.b.Item.Meta,{title:Object(_.jsx)(ue,{children:t.stay.name}),description:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(ue,{children:["Checkin Date: ",t.checkin_date]}),Object(_.jsx)("br",{}),Object(_.jsxs)(ue,{children:["Checkout Date: ",t.checkout_date]})]})})})}})}}]),a}(r.a.Component),fe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(_.jsxs)(V.a,{defaultActiveKey:"1",destroyInactiveTabPane:!0,children:[Object(_.jsx)(de,{tab:"Search Stays",children:Object(_.jsx)(je,{})},"1"),Object(_.jsx)(de,{tab:"My Reservations",children:Object(_.jsx)(pe,{})},"2"),"ane 3"]})}}]),a}(r.a.Component),me=fe,Oe=d.a.Header,xe=d.a.Content,ge=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={authed:!1,asHost:!1},e.handleLoginSuccess=function(t,a){localStorage.setItem("authToken",t),localStorage.setItem("asHost",a),e.setState({authed:!0,asHost:a})},e.handleLogOut=function(){localStorage.removeItem("authToken"),localStorage.removeItem("asHost"),e.setState({authed:!1})},e.renderContent=function(){return e.state.authed?e.state.asHost?Object(_.jsx)(oe,{}):Object(_.jsx)(me,{}):Object(_.jsx)(Y,{handleLoginSuccess:e.handleLoginSuccess})},e.userMenu=Object(_.jsx)(h.a,{children:Object(_.jsx)(h.a.Item,{onClick:e.handleLogOut,children:"Log Out"},"logout")}),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("authToken"),t="true"===localStorage.getItem("asHost");this.setState({authed:null!==e,asHost:t})}},{key:"render",value:function(){return Object(_.jsxs)(d.a,{style:{height:"100vh"},children:[Object(_.jsxs)(Oe,{style:{display:"flex",justifyContent:"space-between"},children:[Object(_.jsx)("div",{style:{fontSize:24,fontWeight:600,color:"white"},children:"DEMO: STAY RENTAL APPLICATION"}),this.state.authed&&Object(_.jsx)("div",{children:Object(_.jsx)(j.a,{trigger:"click",overlay:this.userMenu,children:Object(_.jsx)(b.a,{icon:Object(_.jsx)(p.a,{}),shape:"circle"})})})]}),Object(_.jsx)(xe,{style:{height:"calc(100% - 64px)",margin:20,overflow:"auto"},children:this.renderContent()})]})}}]),a}(r.a.Component),ve=ge,ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,265)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(ve,{})}),document.getElementById("root")),ye()}},[[245,1,2]]]);
//# sourceMappingURL=main.b9d581eb.chunk.js.map